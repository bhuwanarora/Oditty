!function(a,b,c){"use strict";b.module("ngAnimate",["ng"]).factory("$$animateReflow",["$window","$timeout","$document",function(a,b){var c=a.requestAnimationFrame||a.webkitRequestAnimationFrame||function(a){return b(a,10,!1)},d=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||function(a){return b.cancel(a)};return function(a){var b=c(function(){a()});return function(){d(b)}}}]).factory("$$asyncQueueBuffer",["$timeout",function(a){var b,c=[];return function(d){a.cancel(b),c.push(d),b=a(function(){for(var a=0;a<c.length;a++)c[a]();c=[]},0,!1)}}]).config(["$provide","$animateProvider",function(d,e){function f(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.nodeType==k)return c}}function g(a){return b.element(f(a))}var h=b.noop,i=b.forEach,j=e.$$selectors,k=1,l="$$ngAnimateState",m="ng-animate",n={running:!0};d.decorator("$animate",["$delegate","$injector","$sniffer","$rootElement","$$asyncQueueBuffer","$rootScope","$document",function(a,c,d,k,o,p){function q(a){if(a){var b=[],e={};a=a.substr(1).split("."),(d.transitions||d.animations)&&a.push("");for(var f=0;f<a.length;f++){var g=a[f],h=j[g];h&&!e[g]&&(b.push(c.get(h)),e[g]=!0)}return b}}function r(a,c,d,e,f,g,j){function k(b){var e=d.data(l);b=b||!e||!e.active[c]||I&&e.active[c].event!=a,z(),!0===b?A():(e.active[c].done=A,n(K,"after",A))}function n(b,e,f){"after"==e?s():r();var g=e+"End";i(b,function(i,j){var k=function(){a:{var a=e+"Complete",c=b[j];for(c[a]=!0,(c[g]||h)(),c=0;c<b.length;c++)if(!b[c][a])break a;f()}};("before"!=e||"enter"!=a&&"move"!=a)&&i[e]?i[g]=D?i[e](d,B,C,k):I?i[e](d,c,k):i[e](d,k):k()})}function p(b){var e="$animate:"+b;G&&G[e]&&0<G[e].length&&o(function(){d.triggerHandler(e,{event:a,className:c})})}function r(){p("before")}function s(){p("after")}function x(){p("close"),j&&o(function(){j()})}function z(){z.hasBeenRun||(z.hasBeenRun=!0,g())}function A(){if(!A.hasBeenRun){A.hasBeenRun=!0;var b=d.data(l);b&&(I?u(d,c):(o(function(){var b=d.data(l)||{};M==b.index&&u(d,c,a)}),d.data(l,b))),x()}}var B,C,D="setClass"==a;D&&(B=c[0],C=c[1],c=B+" "+C);var E,F=d[0];if(F&&(E=F.className,E=E+" "+c),F&&y(E)){var G=b.element._data(F),G=G&&G.events,F=(" "+E).replace(/\s+/g,".");e||(e=f?f.parent():d.parent());var H=q(F),I="addClass"==a||"removeClass"==a||D,J=d.data(l)||{};if(f=J.active||{},F=J.totalActive||0,E=J.last,v(d,e)||0===H.length)z(),r(),s(),A();else{var K=[];if(I&&(J.disabled||E&&!E.classBased)||i(H,function(b){if(!b.allowCancel||b.allowCancel(d,a,c)){var e=b[a];"leave"==a?(b=e,e=null):b=b["before"+a.charAt(0).toUpperCase()+a.substr(1)],K.push({before:b,after:e})}}),0===K.length)z(),r(),s(),x();else{if(e=!1,F>0){if(H=[],I)"setClass"==E.event?(H.push(E),u(d,c)):f[c]&&(L=f[c],L.event==a?e=!0:(H.push(L),u(d,c)));else if("leave"==a&&f["ng-leave"])e=!0;else{for(var L in f)H.push(f[L]),u(d,L);f={},F=0}0<H.length&&b.forEach(H,function(a){(a.done||h)(!0),t(a.animations)})}if(!I||D||e||(e="addClass"==a==d.hasClass(c)),e)r(),s(),x();else{d.addClass(m);var M=w++;E={classBased:I,event:a,animations:K,done:k},F++,f[c]=E,d.data(l,{last:E,active:f,index:M,totalActive:F}),n(K,"before",k)}}}}else z(),r(),s(),x()}function s(a){a=f(a),i(a.querySelectorAll("."+m),function(a){a=b.element(a),(a=a.data(l))&&a.active&&b.forEach(a.active,function(a){(a.done||h)(!0),t(a.animations)})})}function t(a){i(a,function(a){a.beforeComplete||(a.beforeEnd||h)(!0),a.afterComplete||(a.afterEnd||h)(!0)})}function u(a,b){if(f(a)==f(k))n.disabled||(n.running=!1,n.structural=!1);else if(b){var c=a.data(l)||{},d=!0===b;!d&&c.active&&c.active[b]&&(c.totalActive--,delete c.active[b]),(d||!c.totalActive)&&(a.removeClass(m),a.removeData(l))}}function v(a,b){if(n.disabled)return!0;if(f(a)==f(k))return n.disabled||n.running;do{if(0===b.length)break;var c=f(b)==f(k),d=c?n:b.data(l),d=d&&(!!d.disabled||d.running||0<d.totalActive);if(c||d)return d;if(c)break}while(b=b.parent());return!0}var w=0;k.data(l,n),p.$$postDigest(function(){p.$$postDigest(function(){n.running=!1})});var x=e.classNameFilter(),y=x?function(a){return x.test(a)}:function(){return!0};return{enter:function(b,c,d,e){this.enabled(!1,b),a.enter(b,c,d),p.$$postDigest(function(){b=g(b),r("enter","ng-enter",b,c,d,h,e)})},leave:function(b,c){s(b),this.enabled(!1,b),p.$$postDigest(function(){b=g(b),r("leave","ng-leave",b,null,null,function(){a.leave(b)},c)})},move:function(b,c,d,e){s(b),this.enabled(!1,b),a.move(b,c,d),p.$$postDigest(function(){b=g(b),r("move","ng-move",b,c,d,h,e)})},addClass:function(b,c,d){b=g(b),r("addClass",c,b,null,null,function(){a.addClass(b,c)},d)},removeClass:function(b,c,d){b=g(b),r("removeClass",c,b,null,null,function(){a.removeClass(b,c)},d)},setClass:function(b,c,d,e){b=g(b),r("setClass",[c,d],b,null,null,function(){a.setClass(b,c,d)},e)},enabled:function(a,b){switch(arguments.length){case 2:if(a)u(b);else{var c=b.data(l)||{};c.disabled=!0,b.data(l,c)}break;case 1:n.disabled=!a;break;default:a=!n.disabled}return!!a}}}]),e.register("",["$window","$sniffer","$timeout","$$animateReflow",function(d,e,g,j){function l(a,b){H&&H(),U.push(b),H=j(function(){i(U,function(a){a()}),U=[],H=null,S={}})}function m(a,c){var d=Date.now()+1e3*c;if(!(W>=d)){g.cancel(V);var e=f(a);a=b.element(e),X.push(a),W=d,V=g(function(){n(X),X=[]},c,!1)}}function n(a){i(a,function(a){(a=a.data(N))&&(a.closeAnimationFn||h)()})}function o(a,b){var c=b?S[b]:null;if(!c){var e,f,g,h,j=0,l=0,m=0,n=0;i(a,function(a){if(a.nodeType==k){a=d.getComputedStyle(a)||{},g=a[C+I],j=Math.max(p(g),j),h=a[C+J],e=a[C+K],l=Math.max(p(e),l),f=a[E+K],n=Math.max(p(f),n);var b=p(a[E+I]);b>0&&(b*=parseInt(a[E+L],10)||1),m=Math.max(b,m)}}),c={total:0,transitionPropertyStyle:h,transitionDurationStyle:g,transitionDelayStyle:e,transitionDelay:l,transitionDuration:j,animationDelayStyle:f,animationDelay:n,animationDuration:m},b&&(S[b]=c)}return c}function p(a){var c=0;return a=b.isString(a)?a.split(/\s*,\s*/):[],i(a,function(a){c=Math.max(parseFloat(a)||0,c)}),c}function q(a){var b=a.parent(),c=b.data(M);return c||(b.data(M,++T),c=T),c+"-"+f(a).className}function r(a,c,d,e){var g=q(c),h=g+" "+d,i=S[h]?++S[h].total:0,j={};if(i>0){var k=d+"-stagger",j=g+" "+k;(g=!S[j])&&c.addClass(k),j=o(c,j),g&&c.removeClass(k)}e=e||function(a){return a()},c.addClass(d);var k=c.data(N)||{},l=e(function(){return o(c,h)});return e=l.transitionDuration,g=l.animationDuration,0===e&&0===g?(c.removeClass(d),!1):(c.data(N,{running:k.running||0,itemIndex:i,stagger:j,timings:l,closeAnimationFn:b.noop}),a=0<k.running||"setClass"==a,e>0&&s(c,d,a),g>0&&(f(c).style[E]="none 0s"),!0)}function s(a,b,c){"ng-enter"!=b&&"ng-move"!=b&&"ng-leave"!=b&&c?a.addClass(O):f(a).style[C+J]="none"}function t(a){var b=C+J,c=f(a);c.style[b]&&0<c.style[b].length&&(c.style[b]=""),a.removeClass(O)}function u(a){var b=E;a=f(a),a.style[b]&&0<a.style[b].length&&(a.style[b]="")}function v(a,b,c,d){function e(a){b.off(s,g),b.removeClass(j),A(b,c),a=f(b);for(var d in u)a.style.removeProperty(u[d])}function g(a){a.stopPropagation();var b=a.originalEvent||a;a=b.$manualTimeStamp||b.timeStamp||Date.now(),b=parseFloat(b.elapsedTime.toFixed(P)),Math.max(a-r,0)>=q&&b>=o&&d()}var h=f(b);if(a=b.data(N),-1!=h.className.indexOf(c)&&a){var j="";i(c.split(" "),function(a,b){j+=(b>0?" ":"")+a+"-active"});var k=a.stagger,l=a.timings,n=a.itemIndex,o=Math.max(l.transitionDuration,l.animationDuration),p=Math.max(l.transitionDelay,l.animationDelay),q=p*R,r=Date.now(),s=F+" "+D,t="",u=[];if(0<l.transitionDuration){var v=l.transitionPropertyStyle;-1==v.indexOf("all")&&(t+=G+"transition-property: "+v+";",t+=G+"transition-duration: "+l.transitionDurationStyle+";",u.push(G+"transition-property"),u.push(G+"transition-duration"))}return n>0&&(0<k.transitionDelay&&0===k.transitionDuration&&(t+=G+"transition-delay: "+w(l.transitionDelayStyle,k.transitionDelay,n)+"; ",u.push(G+"transition-delay")),0<k.animationDelay&&0===k.animationDuration&&(t+=G+"animation-delay: "+w(l.animationDelayStyle,k.animationDelay,n)+"; ",u.push(G+"animation-delay"))),0<u.length&&(l=h.getAttribute("style")||"",h.setAttribute("style",l+" "+t)),b.on(s,g),b.addClass(j),a.closeAnimationFn=function(){e(),d()},h=(n*(Math.max(k.animationDelay,k.transitionDelay)||0)+(p+o)*Q)*R,a.running++,m(b,h),e}d()}function w(a,b,c){var d="";return i(a.split(","),function(a,e){d+=(e>0?",":"")+(c*b+parseInt(a,10))+"s"}),d}function x(a,b,c,d){return r(a,b,c,d)?function(a){a&&A(b,c)}:void 0}function y(a,b,c,d){return b.data(N)?v(a,b,c,d):(A(b,c),void d())}function z(a,b,c,d){var e=x(a,b,c);if(e){var f=e;return l(b,function(){t(b,c),u(b),f=y(a,b,c,d)}),function(a){(f||h)(a)}}d()}function A(a,b){a.removeClass(b);var c=a.data(N);c&&(c.running&&c.running--,c.running&&0!==c.running||a.removeData(N))}function B(a,c){var d="";return a=b.isArray(a)?a:a.split(/\s+/),i(a,function(a,b){a&&0<a.length&&(d+=(b>0?" ":"")+a+c)}),d}var C,D,E,F,G="";a.ontransitionend===c&&a.onwebkittransitionend!==c?(G="-webkit-",C="WebkitTransition",D="webkitTransitionEnd transitionend"):(C="transition",D="transitionend"),a.onanimationend===c&&a.onwebkitanimationend!==c?(G="-webkit-",E="WebkitAnimation",F="webkitAnimationEnd animationend"):(E="animation",F="animationend");var H,I="Duration",J="Property",K="Delay",L="IterationCount",M="$$ngAnimateKey",N="$$ngAnimateCSS3Data",O="ng-animate-block-transitions",P=3,Q=1.5,R=1e3,S={},T=0,U=[],V=null,W=0,X=[];return{enter:function(a,b){return z("enter",a,"ng-enter",b)},leave:function(a,b){return z("leave",a,"ng-leave",b)},move:function(a,b){return z("move",a,"ng-move",b)},beforeSetClass:function(a,b,c,d){var e=B(c,"-remove")+" "+B(b,"-add"),f=x("setClass",a,e,function(d){var e=a.attr("class");return a.removeClass(c),a.addClass(b),d=d(),a.attr("class",e),d});return f?(l(a,function(){t(a,e),u(a),d()}),f):void d()},beforeAddClass:function(a,b,c){var d=x("addClass",a,B(b,"-add"),function(c){return a.addClass(b),c=c(),a.removeClass(b),c});return d?(l(a,function(){t(a,b),u(a),c()}),d):void c()},setClass:function(a,b,c,d){return c=B(c,"-remove"),b=B(b,"-add"),y("setClass",a,c+" "+b,d)},addClass:function(a,b,c){return y("addClass",a,B(b,"-add"),c)},beforeRemoveClass:function(a,b,c){var d=x("removeClass",a,B(b,"-remove"),function(c){var d=a.attr("class");return a.removeClass(b),c=c(),a.attr("class",d),c});return d?(l(a,function(){t(a,b),u(a),c()}),d):void c()},removeClass:function(a,b,c){return y("removeClass",a,B(b,"-remove"),c)}}}])}])}(window,window.angular);;!function(a,b,c){"use strict";b.module("ngCookies",["ng"]).factory("$cookies",["$rootScope","$browser",function(a,d){var e,f={},g={},h=!1,i=b.copy,j=b.isUndefined;return d.addPollFn(function(){var b=d.cookies();e!=b&&(e=b,i(b,g),i(b,f),h&&a.$apply())})(),h=!0,a.$watch(function(){var a,e,h;for(a in g)j(f[a])&&d.cookies(a,c);for(a in f)e=f[a],b.isString(e)?e!==g[a]&&(d.cookies(a,e),h=!0):b.isDefined(g[a])?f[a]=g[a]:delete f[a];if(h)for(a in e=d.cookies(),f)f[a]!==e[a]&&(j(e[a])?delete f[a]:f[a]=e[a])}),f}]).factory("$cookieStore",["$cookies",function(a){return{get:function(c){return(c=a[c])?b.fromJson(c):c},put:function(c,d){a[c]=b.toJson(d)},remove:function(b){delete a[b]}}}])}(window,window.angular);;var ngMap=angular.module("ngMap",[]);ngMap.directive("infoWindow",["Attr2Options",function(Attr2Options){var parser=new Attr2Options;return{restrict:"E",require:"^map",link:function(scope,element,attrs,mapController){var filtered=new parser.filter(attrs),options=parser.getOptions(filtered);options.pixelOffset&&(options.pixelOffset=google.maps.Size.apply(this,options.pixelOffset)),infoWindow=new google.maps.InfoWindow(options),infoWindow.contents=element.html();var events=parser.getEvents(scope,filtered);for(var eventName in events)google.maps.event.addListener(infoWindow,eventName,events[eventname]);mapController.infoWindows.push(infoWindow),element.css({display:"none"}),scope.showInfoWindow=function(event,id,options){var infoWindow=scope.infoWindows[id],contents=infoWindow.contents,matches=contents.match(/\[\[[^\]]+\]\]/g);if(matches)for(var i=0,length=matches.length;length>i;i++){var expression=matches[i].replace(/\[\[/,"").replace(/\]\]/,"");try{contents=contents.replace(matches[i],eval(expression))}catch(e){expression="options."+expression,contents=contents.replace(matches[i],eval(expression))}}infoWindow.setContent(contents),infoWindow.open(scope.map,this)}}}}]),ngMap.directive("map",["Attr2Options","$parse","NavigatorGeolocation","GeoCoder","$compile",function(a,b,c,d){var e=new a;return{restrict:"AE",controller:["$scope",function(a){this.map=null,this.controls={},this.markers=[],this.shapes=[],this.infoWindows=[],this.initializeMap=function(a,b,f){var g=e.filter(f),h=e.getOptions(g),i=e.getControlOptions(g);for(key in i)h[key]=i[key];var j=this;if(h.zoom||(h.zoom=15),h.center instanceof Array){var k=h.center[0],l=h.center[1];h.center=new google.maps.LatLng(k,l)}else{var m=h.center;delete h.center}for(var n in this.controls)h[n+"Control"]="false"===this.controls[n].enabled?0:1,delete this.controls[n].enabled,h[n+"ControlOptions"]=this.controls[n];var o=document.createElement("div");o.style.width="100%",o.style.height="100%",b.prepend(o),j.map=new google.maps.Map(o,h),"string"==typeof m?d.geocode({address:m}).then(function(a){j.map.setCenter(a[0].geometry.location)}):h.center||c.getCurrentPosition().then(function(a){var b=a.coords.latitude,c=a.coords.longitude;j.map.setCenter(new google.maps.LatLng(b,c))});var p=e.getEvents(a,g);for(var q in p)google.maps.event.addListener(j.map,q,p[q]);return a.map=j.map,j.map},this.addMarker=function(b){b.setMap(this.map),b.centered&&this.map.setCenter(b.position);var c=Object.keys(a.markers).length;a.markers[b.id||c]=b},this.initializeMarkers=function(){a.markers={};for(var b=0;b<this.markers.length;b++){var c=this.markers[b];this.addMarker(c)}},this.initializeShapes=function(){a.shapes={};for(var b=0;b<this.shapes.length;b++){var c=this.shapes[b];c.setMap(this.map),a.shapes[c.id||b+1]=c}},this.initializeInfoWindows=function(){a.infoWindows={};for(var b=0;b<this.infoWindows.length;b++){var c=this.infoWindows[b];a.infoWindows[c.id||b+1]=c}}}],link:function(a,b,c,d){d.initializeMap(a,b,c),d.initializeMarkers(),d.initializeShapes(),d.initializeInfoWindows()}}}]),ngMap.directive("marker",["Attr2Options","GeoCoder","NavigatorGeolocation",function(a,b,c){var d=new a;return{restrict:"E",require:"^map",link:function(a,e,f,g){var h=new d.filter(f),i=d.getOptions(h),j=d.getEvents(a,h),k=function(){var a=new google.maps.Marker(i);Object.keys(j).length>0&&void 0;for(var b in j)google.maps.event.addListener(a,b,j[b]);return a};if(i.position instanceof Array){var l=i.position[0],m=i.position[1];void(i.position=new google.maps.LatLng(l,m));var n=k();i.ngRepeat?g.addMarker(n):g.markers.push(n)}else if("string"==typeof i.position){var o=i.position;o.match(/^current/i)?c.getCurrentPosition().then(function(a){var b=a.coords.latitude,c=a.coords.longitude;i.position=new google.maps.LatLng(b,c);var d=k();g.addMarker(d)}):b.geocode({address:i.position}).then(function(a){var b=a[0].geometry.location;i.position=b;var c=k();g.addMarker(c)})}}}}]),ngMap.directive("shape",["Attr2Options",function(a){var b=new a,c=function(a){return a[0]&&a[0]instanceof Array?a.map(function(a){return new google.maps.LatLng(a[0],a[1])}):new google.maps.LatLng(a[0],a[1])},d=function(a){var b=c(a);return new google.maps.LatLngBounds(b[0],b[1])},e=function(a,b){switch(a){case"circle":return b.center=c(b.center),new google.maps.Circle(b);case"polygon":return b.paths=c(b.paths),new google.maps.Polygon(b);case"polyline":return b.path=c(b.path),new google.maps.Polyline(b);case"rectangle":return b.bounds=d(b.bounds),new google.maps.Rectangle(b);case"groundOverlay":case"image":var e=b.url,f=d(b.bounds),g={opacity:b.opacity,clickable:b.clickable};return new google.maps.GroundOverlay(e,f,g)}return null};return{restrict:"E",require:"^map",link:function(a,c,d,f){var g=b.filter(d),h=g.name;delete g.name;var i=b.getOptions(g),j=e(h,i);j?f.shapes.push(j):void 0;var k=b.getEvents(a,g);for(var l in k)k[l]&&google.maps.event.addListener(j,l,k[l])}}}]),ngMap.provider("Attr2Options",function(){this.$get=function(){return function(){this.filter=function(a){var b={};for(var c in a)c.match(/^\$/)||(b[c]=a[c]);return b},this.getOptions=function(attrs){var options={};for(var key in attrs)if(attrs[key]){if(key.match(/^on[A-Z]/))continue;if(key.match(/ControlOptions$/))continue;var val=attrs[key];try{var num=Number(val);if(isNaN(num))throw"Not a number";options[key]=num}catch(err){try{options[key]=JSON.parse(val)}catch(err2){if(val.match(/^[A-Z][a-zA-Z0-9]+\(.*\)$/))try{var exp="new google.maps."+val;options[key]=eval(exp)}catch(e){options[key]=val}else if(val.match(/^[A-Z][a-zA-Z0-9]+\.[A-Z]+$/))try{options[key]=eval("google.maps."+val)}catch(e){options[key]=val}else options[key]=val}}}return options},this.getEvents=function(a,b){var c={},d=function(a){return"_"+a.toLowerCase()},e=function(b){var c=b.match(/([^\(]+)\(([^\)]*)\)/),d=c[1],e=c[2].replace(/event[ ,]*/,""),f=a.$eval("["+e+"]");return function(b){a[d].apply(this,[b].concat(f))}};for(var f in b)if(b[f]){if(!f.match(/^on[A-Z]/))continue;var g=f.replace(/^on/,"");g=g.charAt(0).toLowerCase()+g.slice(1),g=g.replace(/([A-Z])/g,d);var h=b[f];c[g]=new e(h)}return c},this.getControlOptions=function(a){var b={};for(var c in a)if(a[c]){if(!c.match(/(.*)ControlOptions$/))continue;var d=a[c],e=d.replace(/'/g,'"');e=e.replace(/([^"]+)|("[^"]+")/g,function(a,b,c){return b?b.replace(/([a-zA-Z0-9]+?):/g,'"$1":'):c});try{var f=JSON.parse(e);for(var g in f)if(f[g]){var h=f[g];if("string"==typeof h?h=h.toUpperCase():"mapTypeIds"===g&&(h=h.map(function(a){return google.maps.MapTypeId[a.toUpperCase()]})),"style"===g){var i=c.charAt(0).toUpperCase()+c.slice(1),j=i.replace(/Options$/,"")+"Style";f[g]=google.maps[j][h]}else f[g]="position"===g?google.maps.ControlPosition[h]:h}b[c]=f}catch(k){}}return b}}}}),ngMap.service("GeoCoder",["$q",function(a){return{geocode:function(b){var c=a.defer(),d=new google.maps.Geocoder;return d.geocode(b,function(a,b){b==google.maps.GeocoderStatus.OK?c.resolve(a):c.reject("Geocoder failed due to: "+b)}),c.promise}}}]),ngMap.service("NavigatorGeolocation",["$q",function(a){return{getCurrentPosition:function(){var b=a.defer();return navigator.geolocation?navigator.geolocation.getCurrentPosition(function(a){b.resolve(a)},function(a){b.reject(a)}):b.reject("Browser Geolocation service failed."),b.promise},watchPosition:function(){return"TODO"},clearWatch:function(){return"TODO"}}}]);;var ngIntroDirective=angular.module("angular-intro",[]);ngIntroDirective.directive("ngIntroOptions",["$timeout",function(a){return{restrict:"A",scope:{ngIntroMethod:"=",ngIntroOptions:"=",ngIntroOncomplete:"=",ngIntroOnexit:"=",ngIntroOnchange:"=",ngIntroOnbeforechange:"=",ngIntroOnafterchange:"=",ngIntroAutostart:"&"},link:function(b){b.ngIntroMethod=function(c){var d;d="string"==typeof c?introJs(c):introJs(),d.setOptions(b.ngIntroOptions),b.ngIntroOncomplete&&d.oncomplete(b.ngIntroOncomplete),b.ngIntroOnexit&&d.onexit(b.ngIntroOnexit),b.ngIntroOnchange&&d.onchange(function(c){a(function(){b.ngIntroOnchange(c)})}),b.ngIntroOnbeforechange&&d.onbeforechange(function(c){a(function(){b.ngIntroOnbeforechange(c)},0)}),b.ngIntroOnafterchange&&d.onafterchange(function(c){a(function(){b.ngIntroOnafterchange(c)})}),"number"==typeof c?d.goToStep(c).start():d.start()},b.ngIntroAutostart()&&a(function(){b.ngIntroMethod()})}}}]);;!function(a,b){"use strict";var c,d={},e={sdk:!1,ready:!1};b.module("facebook",[]).value("settings",d).value("flags",e).provider("Facebook",[function(){d.appId=null,this.setAppId=function(a){d.appId=a},this.getAppId=function(){return d.appId},d.locale="en_US",this.setLocale=function(a){d.locale=a},this.getLocale=function(){return d.locale},d.status=!0,this.setStatus=function(a){d.status=a},this.getStatus=function(){return d.status},d.channelUrl=null,this.setChannel=function(a){d.channelUrl=a},this.getChannel=function(){return d.channelUrl},d.cookie=!0,this.setCookie=function(a){d.cookie=a},this.getCookie=function(){return d.cookie},d.xfbml=!0,this.setXfbml=function(a){d.xfbml=a},this.getXfbml=function(){return d.xfbml},this.setAuthResponse=function(a){d.authResponse=a||!0},this.getAuthResponse=function(){return d.authResponse},d.frictionlessRequests=!1,this.setFrictionlessRequests=function(a){d.frictionlessRequests=a},this.getFrictionlessRequests=function(){return d.frictionlessRequests},d.hideFlashCallback=null,this.setHideFlashCallback=function(a){d.hideFlashCallback=a||null},this.getHideFlashCallback=function(){return d.hideFlashCallback},this.setInitCustomOption=function(a,c){return b.isString(a)?(d[a]=c,d[a]):!1},this.getInitOption=function(a){return b.isString(a)&&d.hasOwnProperty(a)?d[a]:!1},d.loadSDK=!0,this.setLoadSDK=function(a){d.loadSDK=!!a},this.getLoadSDK=function(){return d.loadSDK},d.version="v1.0",this.setSdkVersion=function(a){d.version=a},this.getSdkVersion=function(){return d.version},this.init=function(a,c){b.isString(a)&&(d.appId=a),b.isNumber(a)&&(d.appId=a.toString()),b.isObject(a)&&b.extend(d,a),b.isDefined(c)&&(d.loadSDK=!!c)},this.$get=["$q","$rootScope","$timeout","$window",function(a,f,g,h){function i(){this.appId=d.appId}return i.prototype.isReady=function(){return e.ready},i.prototype.login=function(){var c,d,e=a.defer(),f=Array.prototype.slice.call(arguments);return b.forEach(f,function(a,e){b.isFunction(a)&&(c=a,d=e)}),b.isFunction(c)&&b.isNumber(d)&&f.splice(d,1,function(a){g(function(){a&&b.isUndefined(a.error)?e.resolve(a):e.reject(a),b.isFunction(c)&&c(a)})}),this.isReady()?h.FB.login.apply(h.FB,f):g(function(){e.reject("Facebook.login() called before Facebook SDK has loaded.")}),e.promise},b.forEach(["logout","api","ui","getLoginStatus"],function(d){i.prototype[d]=function(){var e,f,i=a.defer(),j=Array.prototype.slice.call(arguments);return b.forEach(j,function(a,c){b.isFunction(a)&&(e=a,f=c)}),b.isFunction(e)&&b.isNumber(f)&&j.splice(f,1,function(a){g(function(){a&&b.isUndefined(a.error)?i.resolve(a):i.reject(a),b.isFunction(e)&&e(a)})}),g(function(){c.promise.then(function(){h.FB[d].apply(FB,j)})}),i.promise}}),i.prototype.parseXFBML=function(){var b=a.defer();return g(function(){c.promise.then(function(){h.FB.XFBML.parse(),b.resolve()})}),b.promise},b.forEach(["subscribe","unsubscribe"],function(d){i.prototype[d]=function(){var e,f,i=a.defer(),j=Array.prototype.slice.call(arguments);return b.forEach(j,function(a,c){b.isFunction(a)&&(e=a,f=c)}),b.isFunction(e)&&b.isNumber(f)&&j.splice(f,1,function(a){g(function(){a&&b.isUndefined(a.error)?i.resolve(a):i.reject(a),b.isFunction(e)&&e(a)})}),g(function(){c.promise.then(function(){h.FB.Event[d].apply(FB,j)})}),i.promise}}),new i}]}]).run(["$rootScope","$q","$window","$timeout",function(a,f,g,h){c=f.defer();var i=d.loadSDK;delete d.loadSDK,g.fbAsyncInit=function(){h(function(){if(!d.appId)throw"Missing appId setting.";FB.init(d),e.ready=!0,b.forEach({"auth.login":"login","auth.logout":"logout","auth.prompt":"prompt","auth.sessionChange":"sessionChange","auth.statusChange":"statusChange","auth.authResponseChange":"authResponseChange","xfbml.render":"xfbmlRender","edge.create":"like","edge.remove":"unlike","comment.create":"comment","comment.remove":"uncomment"},function(b,c){FB.Event.subscribe(c,function(c){h(function(){a.$broadcast("Facebook:"+b,c)})})}),a.$broadcast("Facebook:load"),c.resolve(FB)})},function(){var a=document.getElementById("fb-root");return a||(a=document.createElement("div"),a.id="fb-root",document.body.insertBefore(a,document.body.childNodes[0])),a}(),i&&!function(){var a="//connect.facebook.net/"+d.locale+"/sdk.js",b=document.createElement("script");b.id="facebook-jssdk",b.async=!0,-1!==g.location.protocol.indexOf("file:")&&(a="https:"+a),b.src=a,b.onload=function(){e.sdk=!0},document.getElementsByTagName("head")[0].appendChild(b)}()}])}(window,angular);;window.google=window.google||{},google.maps=google.maps||{},function(){function a(a){document.write('<script src="'+a+'" type="text/javascript"></script>')}var b=google.maps.modules={};google.maps.__gjsload__=function(a,c){b[a]=c},google.maps.Load=function(a){delete google.maps.Load,a([.009999999776482582,[[["http://mt0.googleapis.com/vt?lyrs=m@257000000&src=api&hl=en-US&","http://mt1.googleapis.com/vt?lyrs=m@257000000&src=api&hl=en-US&"],null,null,null,null,"m@257000000",["https://mts0.google.com/vt?lyrs=m@257000000&src=api&hl=en-US&","https://mts1.google.com/vt?lyrs=m@257000000&src=api&hl=en-US&"]],[["http://khm0.googleapis.com/kh?v=146&hl=en-US&","http://khm1.googleapis.com/kh?v=146&hl=en-US&"],null,null,null,1,"146",["https://khms0.google.com/kh?v=146&hl=en-US&","https://khms1.google.com/kh?v=146&hl=en-US&"]],[["http://mt0.googleapis.com/vt?lyrs=h@257000000&src=api&hl=en-US&","http://mt1.googleapis.com/vt?lyrs=h@257000000&src=api&hl=en-US&"],null,null,null,null,"h@257000000",["https://mts0.google.com/vt?lyrs=h@257000000&src=api&hl=en-US&","https://mts1.google.com/vt?lyrs=h@257000000&src=api&hl=en-US&"]],[["http://mt0.googleapis.com/vt?lyrs=t@132,r@257000000&src=api&hl=en-US&","http://mt1.googleapis.com/vt?lyrs=t@132,r@257000000&src=api&hl=en-US&"],null,null,null,null,"t@132,r@257000000",["https://mts0.google.com/vt?lyrs=t@132,r@257000000&src=api&hl=en-US&","https://mts1.google.com/vt?lyrs=t@132,r@257000000&src=api&hl=en-US&"]],null,null,[["http://cbk0.googleapis.com/cbk?","http://cbk1.googleapis.com/cbk?"]],[["http://khm0.googleapis.com/kh?v=84&hl=en-US&","http://khm1.googleapis.com/kh?v=84&hl=en-US&"],null,null,null,null,"84",["https://khms0.google.com/kh?v=84&hl=en-US&","https://khms1.google.com/kh?v=84&hl=en-US&"]],[["http://mt0.googleapis.com/mapslt?hl=en-US&","http://mt1.googleapis.com/mapslt?hl=en-US&"]],[["http://mt0.googleapis.com/mapslt/ft?hl=en-US&","http://mt1.googleapis.com/mapslt/ft?hl=en-US&"]],[["http://mt0.googleapis.com/vt?hl=en-US&","http://mt1.googleapis.com/vt?hl=en-US&"]],[["http://mt0.googleapis.com/mapslt/loom?hl=en-US&","http://mt1.googleapis.com/mapslt/loom?hl=en-US&"]],[["https://mts0.googleapis.com/mapslt?hl=en-US&","https://mts1.googleapis.com/mapslt?hl=en-US&"]],[["https://mts0.googleapis.com/mapslt/ft?hl=en-US&","https://mts1.googleapis.com/mapslt/ft?hl=en-US&"]],[["https://mts0.googleapis.com/mapslt/loom?hl=en-US&","https://mts1.googleapis.com/mapslt/loom?hl=en-US&"]]],["en-US","US",null,0,null,null,"http://maps.gstatic.com/mapfiles/","http://csi.gstatic.com","https://maps.googleapis.com","http://maps.googleapis.com"],["http://maps.gstatic.com/intl/en_us/mapfiles/api-3/16/6","3.16.6"],[4097950789],1,null,null,null,null,0,"",null,null,0,"http://khm.googleapis.com/mz?v=146&",null,"https://earthbuilder.googleapis.com","https://earthbuilder.googleapis.com",null,"http://mt.googleapis.com/vt/icon",[["http://mt0.googleapis.com/vt","http://mt1.googleapis.com/vt"],["https://mts0.googleapis.com/vt","https://mts1.googleapis.com/vt"],[null,[[0,"m",257e6]],[null,"en-US","US",null,18,null,null,null,null,null,null,[[47],[37,[["smartmaps"]]]]],0],[null,[[0,"m",257e6]],[null,"en-US","US",null,18,null,null,null,null,null,null,[[47],[37,[["smartmaps"]]]]],3],[null,[[0,"m",257e6]],[null,"en-US","US",null,18,null,null,null,null,null,null,[[50],[37,[["smartmaps"]]]]],0],[null,[[0,"m",257e6]],[null,"en-US","US",null,18,null,null,null,null,null,null,[[50],[37,[["smartmaps"]]]]],3],[null,[[4,"t",132],[0,"r",132e6]],[null,"en-US","US",null,18,null,null,null,null,null,null,[[5],[37,[["smartmaps"]]]]],0],[null,[[4,"t",132],[0,"r",132e6]],[null,"en-US","US",null,18,null,null,null,null,null,null,[[5],[37,[["smartmaps"]]]]],3],[null,null,[null,"en-US","US",null,18],0],[null,null,[null,"en-US","US",null,18],3],[null,null,[null,"en-US","US",null,18],6],[null,null,[null,"en-US","US",null,18],0],["https://mts0.google.com/vt","https://mts1.google.com/vt"],"/maps/vt"],2,500],c)};var c=(new Date).getTime();a("http://maps.gstatic.com/intl/en_us/mapfiles/api-3/16/6/main.js")}();;angular.module("monospaced.mousewheel",[]).directive("msdWheel",["$parse",function(a){return{restrict:"A, C",link:function(b,c,d){var e,f=a(d.msdWheel),g=function(a,c,d,e){b.$apply(function(){f(b,{$event:a,$delta:c,$deltaX:d,$deltaY:e})})};return"undefined"==typeof Hamster?void c.bind("wheel",function(a){b.$apply(function(){f(b,{$event:a})})}):((e=c.data("hamster"))||(e=Hamster(c[0]),c.data("hamster",e)),e.wheel(g),void b.$on("$destroy",function(){e.unwheel(g)}))}}}]);;!function(a,b){"use strict";function c(a,c,d){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(e,f,g,h,i){function j(){l&&(l.$destroy(),l=null),m&&(d.leave(m),m=null)}function k(){var g=a.current&&a.current.locals;if(b.isDefined(g&&g.$template)){var g=e.$new(),h=a.current;m=i(g,function(a){d.enter(a,null,m||f,function(){!b.isDefined(n)||n&&!e.$eval(n)||c()}),j()}),l=h.scope=g,l.$emit("$viewContentLoaded"),l.$eval(o)}else j()}var l,m,n=g.autoscroll,o=g.onload||"";e.$on("$routeChangeSuccess",k),k()}}}function d(a,b,c){return{restrict:"ECA",priority:-400,link:function(d,e){var f=c.current,g=f.locals;e.html(g.$template);var h=a(e.contents());f.controller&&(g.$scope=d,g=b(f.controller,g),f.controllerAs&&(d[f.controllerAs]=g),e.data("$ngControllerController",g),e.children().data("$ngControllerController",g)),h(d)}}}a=b.module("ngRoute",["ng"]).provider("$route",function(){function a(a,c){return b.extend(new(b.extend(function(){},{prototype:a})),c)}function c(a,b){var c=b.caseInsensitiveMatch,d={originalPath:a,regexp:a},e=d.keys=[];return a=a.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(a,b,c,d){return a="?"===d?d:null,d="*"===d?d:null,e.push({name:c,optional:!!a}),b=b||"",""+(a?"":b)+"(?:"+(a?b:"")+(d&&"(.+?)"||"([^/]+)")+(a||"")+")"+(a||"")}).replace(/([\/$\*])/g,"\\$1"),d.regexp=RegExp("^"+a+"$",c?"i":""),d}var d={};this.when=function(a,e){if(d[a]=b.extend({reloadOnSearch:!0},e,a&&c(a,e)),a){var f="/"==a[a.length-1]?a.substr(0,a.length-1):a+"/";d[f]=b.extend({redirectTo:a},c(f,e))}return this},this.otherwise=function(a){return this.when(null,a),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache","$sce",function(c,e,f,g,h,i,j,k){function l(){var a=m(),d=p.current;a&&d&&a.$$route===d.$$route&&b.equals(a.pathParams,d.pathParams)&&!a.reloadOnSearch&&!o?(d.params=a.params,b.copy(d.params,f),c.$broadcast("$routeUpdate",d)):(a||d)&&(o=!1,c.$broadcast("$routeChangeStart",a,d),(p.current=a)&&a.redirectTo&&(b.isString(a.redirectTo)?e.path(n(a.redirectTo,a.params)).search(a.params).replace():e.url(a.redirectTo(a.pathParams,e.path(),e.search())).replace()),g.when(a).then(function(){if(a){var c,d,e=b.extend({},a.resolve);return b.forEach(e,function(a,c){e[c]=b.isString(a)?h.get(a):h.invoke(a)}),b.isDefined(c=a.template)?b.isFunction(c)&&(c=c(a.params)):b.isDefined(d=a.templateUrl)&&(b.isFunction(d)&&(d=d(a.params)),d=k.getTrustedResourceUrl(d),b.isDefined(d)&&(a.loadedTemplateUrl=d,c=i.get(d,{cache:j}).then(function(a){return a.data}))),b.isDefined(c)&&(e.$template=c),g.all(e)}}).then(function(e){a==p.current&&(a&&(a.locals=e,b.copy(a.params,f)),c.$broadcast("$routeChangeSuccess",a,d))},function(b){a==p.current&&c.$broadcast("$routeChangeError",a,d,b)}))}function m(){var c,f;return b.forEach(d,function(d){var g;if(g=!f){var h=e.path();g=d.keys;var i={};if(d.regexp)if(h=d.regexp.exec(h)){for(var j=1,k=h.length;k>j;++j){var l=g[j-1],m="string"==typeof h[j]?decodeURIComponent(h[j]):h[j];l&&m&&(i[l.name]=m)}g=i}else g=null;else g=null;g=c=g}g&&(f=a(d,{params:b.extend({},e.search(),c),pathParams:c}),f.$$route=d)}),f||d[null]&&a(d[null],{params:{},pathParams:{}})}function n(a,c){var d=[];return b.forEach((a||"").split(":"),function(a,b){if(0===b)d.push(a);else{var e=a.match(/(\w+)(.*)/),f=e[1];d.push(c[f]),d.push(e[2]||""),delete c[f]}}),d.join("")}var o=!1,p={routes:d,reload:function(){o=!0,c.$evalAsync(l)}};return c.$on("$locationChangeSuccess",l),p}]}),a.provider("$routeParams",function(){this.$get=function(){return{}}}),a.directive("ngView",c),a.directive("ngView",d),c.$inject=["$route","$anchorScroll","$animate"],d.$inject=["$compile","$controller","$route"]}(window,window.angular);;(function(){angular.module("cropme",["ngSanitize"]).directive("cropme",["$window","$timeout","$rootScope",function(a,b,c){var d,e,f,g;return f=100,d=8,e=function(a){return a.destinationHeight?a.ratio?a.error="You can't specify both destinationHeight and ratio, destinationHeight = destinationWidth * ratio":a.ratio=a.destinationHeight/a.destinationWidth:a.ratio&&(a.destinationHeight=a.destinationWidth*a.ratio),a.ratio&&a.height&&a.destinationHeight>a.height&&(a.error="Can't initialize cropme: destinationWidth x ratio needs to be lower than height"),a.destinationWidth>a.width&&(a.error="Can't initialize cropme: destinationWidth x ratio needs to be lower than height"),a.destinationWidth>a.width&&(a.error="Can't initialize cropme: destinationWidth needs to be lower than width"),a.ratio&&!a.height&&(a.height=a.destinationHeight),a.type||(a.type="png")},g=function(a){var b,c;for(c=0,b=0;a;)c+=a.offsetTop,b+=a.offsetLeft,a=a.offsetParent;return{top:c,left:b}},{templateUrl:"/assets/angular/views/getting_started/shared/cropme.html",restrict:"E",scope:{width:"=",maxHeight:"=",destinationWidth:"=",height:"=?",destinationHeight:"=?",iconClass:"=?",ratio:"=?",type:"=?"},link:function(a,h){var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A;return a.dropText="Drop picture here",a.showButton=!0,a.error=null,o=null,q=null,r=null,A=null,p=null,t=h.find("img")[0],j=h.find("canvas")[0],n=j.getContext("2d"),z=function(c,d){return A=a.width/c,r=d*A,a.img_width=a.width,r>a.maxHeight&&(r=a.maxHeight,A=r/d,a.img_width=c*A),a.widthCropZone=Math.round(a.destinationWidth*A),a.heightCropZone=Math.round((a.destinationHeight||f)*A),a.xCropZone=Math.round((a.img_width-a.widthCropZone)/2),a.yCropZone=Math.round((r-a.heightCropZone)/2),b(function(){return p=g(s)})},s=h[0].getElementsByClassName("step-2")[0],e(a),a.width_vh=100*a.destinationWidth/document.documentElement.clientHeight,a.height_vh=100*a.destinationHeight/document.documentElement.clientHeight,i=h.find("input"),i.bind("change",function(){var b;return b=this.files[0],a.$apply(function(){return a.setFiles(b)})}),i.bind("click",function(a){return a.stopPropagation(),i.val("")}),a.browseFiles=function(){return a.error=null,i[0].click()},a.setFiles=function(b){var d;return b.type.match(/^image\//)?(a.dropError="",d=new FileReader,d.onload=function(b){return t.onload=function(){var b,d,e;return e=t.naturalWidth,d=t.naturalHeight,b=[],e<a.width&&(a.error="Please choose an image with minimum size "+a.width+" x "+Math.round(a.destinationHeight)+" px.",b.push("The image you dropped has a width of "+e+",px but the minimum is "+a.width+".")),a.height&&d<a.height&&(a.error="Please choose an image with minimum size "+a.width+" x "+Math.round(a.destinationHeight)+" px.",b.push("The image you dropped has a height of "+d+", but the minimum is "+a.height+".")),a.ratio&&a.destinationHeight>d&&(a.error="Please choose an image with minimum size "+a.width+" x "+Math.round(a.destinationHeight)+" px.",b.push("The image you dropped has a height of "+d+", but the minimum is "+a.destinationHeight+".")),a.$apply(function(){return b.length?a.dropError=b.join("<br/>"):(c.$broadcast("cropme:loaded",e,d),a.showButton=!1,z(e,d))})},a.$apply(function(){return a.imgSrc=b.target.result})},d.readAsDataURL(b)):(a.error="Wrong file type, please select an image.",a.dropError="Wrong file type, please select an image.")},w=function(b){return a.xCropZone=b.clientX-p.left-a.widthCropZone/2,a.yCropZone=b.clientY-p.top-a.heightCropZone/2,k()},v={top:function(b){var c;return c=b.clientY-p.top,a.heightCropZone+=a.yCropZone-c,a.yCropZone=c,m(),k()},right:function(b){var c;return c=b.clientX-p.left,a.widthCropZone=c-a.xCropZone,l(),k()},bottom:function(b){var c;return c=b.clientY-p.top,a.heightCropZone=c-a.yCropZone,m(),k()},left:function(b){var c;return c=b.clientX-p.left,a.widthCropZone+=a.xCropZone-c,a.xCropZone=c,l(),k()}},l=function(){return a.ratio?a.heightCropZone=a.widthCropZone*a.ratio:void 0},m=function(){return a.ratio?a.widthCropZone=a.heightCropZone/a.ratio:void 0},k=function(){return a.xCropZone<0&&(a.xCropZone=0),a.yCropZone<0&&(a.yCropZone=0),a.widthCropZone<a.destinationWidth*A?(a.widthCropZone=a.destinationWidth*A,l()):a.destinationHeight&&a.heightCropZone<a.destinationHeight*A&&(a.heightCropZone=a.destinationHeight*A,m()),a.xCropZone+a.widthCropZone>a.img_width&&(a.xCropZone=a.img_width-a.widthCropZone,a.xCropZone<0&&(a.widthCropZone=a.img_width,a.xCropZone=0,l())),a.yCropZone+a.heightCropZone>r&&(a.yCropZone=r-a.heightCropZone,a.yCropZone<0)?(a.heightCropZone=r,a.yCropZone=0,m()):void 0},u=function(b){var c,d,e,f,g,h,i,j;return i=a.xCropZone+p.left,j=a.yCropZone+p.top,h=a.widthCropZone,e=a.heightCropZone,f={x:i,y:j},g={x:i+h,y:j},c={x:i,y:j+e},d={x:i+h,y:j+e},x(b,i,h,j,"top")||y(b,j,e,i+h,"right")||x(b,i,h,j+e,"bottom")||y(b,j,e,i,"left")},x=function(a,b,c,e,f){return a.clientX>=b&&a.clientX<=b+c&&Math.abs(a.clientY-e)<=d?f:void 0},y=function(a,b,c,e,f){return a.clientY>=b&&a.clientY<=b+c&&Math.abs(a.clientX-e)<=d?f:void 0},a.mousedown=function(a){return q=u(a),(o=q?v[q]:w)(a)},a.mouseup=function(a){return o&&o(a),o=null},a.mousemove=function(b){return o&&o(b),a.colResizePointer=u(b)},a.deselect=function(){return o=null},a.cancel=function(){return a.dropText="Drop files here",a.dropClass="",a.showButton=!0},a.ok=function(){return a.croppedWidth=a.widthCropZone/A,a.croppedHeight=a.heightCropZone/A,a.set=!0,b(function(){var b;b=a.destinationHeight||a.destinationWidth*a.croppedHeight/a.croppedWidth,n.drawImage(t,a.xCropZone/A,a.yCropZone/A,a.croppedWidth,a.croppedHeight,0,0,a.destinationWidth,a.destinationHeight);var d=j.toDataURL();return j.toBlob(function(){return c.$broadcast("cropme:done",d)&&(a.showButton=!0)},"image/"+a.type)})},a.$on("cropme:cancel",a.cancel),a.$on("cropme:ok",a.ok)}}}]),angular.module("cropme").directive("dropbox",function(){return{restrict:"E",link:function(a,b){var c,d;return c=function(b){return b.stopPropagation(),b.preventDefault(),a.$apply(function(){return a.dropText="Drop files here",a.dropClass=""})},d=b[0],a.dropText="Drop files here",d.addEventListener("dragenter",c,!1),d.addEventListener("dragleave",c,!1),d.addEventListener("dragover",function(b){var c;return b.stopPropagation(),b.preventDefault(),c=b.dataTransfer&&b.dataTransfer.types&&b.dataTransfer.types.indexOf("Files")>=0,a.$apply(function(){return a.dropText=c?"Drop now":"Only files are allowed",a.dropClass=c?"over":"not-available"})},!1),d.addEventListener("drop",function(b){var c;return b.stopPropagation(),b.preventDefault(),a.$apply(function(){return a.dropText="Drop files here",a.dropClass=""}),c=b.dataTransfer.files,a.$apply(function(){var b,d,e;if(c.length>0)for(d=0,e=c.length;e>d;d++){if(b=c[d],b.type.match(/^image\//))return a.dropText="Loading image...",a.dropClass="loading",a.setFiles(b);a.dropError="Wrong file type, please drop at least an image."}})},!1)}}}),function(a){"use strict";var b,c,d,e,f;return c=a.Uint8Array,b=a.HTMLCanvasElement,f=/\s*;\s*base64\s*(?:;|$)/i,d=void 0,e=function(a){var b,e,f,g,h,i,j,k,l,m;for(h=a.length,b=new c(h/4*3|0),f=0,i=0,g=[0,0],l=0,k=0,j=void 0,e=void 0,m=void 0;h--;)e=a.charCodeAt(f++),j=d[e-43],255!==j&&j!==m&&(g[1]=g[0],g[0]=e,k=k<<6|j,l++,4===l&&(b[i++]=k>>>16,61!==g[1]&&(b[i++]=k>>>8),61!==g[0]&&(b[i++]=k),l=0));return b},c&&(d=new c([62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51])),b&&!b.prototype.toBlob?b.prototype.toBlob=function(a,b){var d,g,h,i,j,k;return b||(b="image/png"),this.mozGetAsFile?void a(this.mozGetAsFile("canvas",b)):(d=Array.prototype.slice.call(arguments,1),i=this.toDataURL.apply(this,d),j=i.indexOf(","),h=i.substring(j+1),k=f.test(i.substring(0,j)),g=void 0,Blob.fake?(g=new Blob,g.encoding=k?"base64":"URI",g.data=h,g.size=h.length):c&&(g=k?new Blob([e(h)],{type:b}):new Blob([decodeURIComponent(h)],{type:b})),a(g))}:void 0}(self)}).call(this);;!function(a,b){"use strict";var c=function(a){return new c.Instance(a)};c.SUPPORT="wheel",c.ADD_EVENT="addEventListener",c.REMOVE_EVENT="removeEventListener",c.PREFIX="",c.READY=!1,c.Instance=function(a){return c.READY||(c.normalise.browser(),c.READY=!0),this.element=a,this.handlers=[],this},c.Instance.prototype={wheel:function(a,b){return c.event.add(this,c.SUPPORT,a,b),"DOMMouseScroll"===c.SUPPORT&&c.event.add(this,"MozMousePixelScroll",a,b),this},unwheel:function(a,b){return void 0===a&&(a=this.handlers.slice(-1)[0])&&(a=a.original),c.event.remove(this,c.SUPPORT,a,b),"DOMMouseScroll"===c.SUPPORT&&c.event.remove(this,"MozMousePixelScroll",a,b),this}},c.event={add:function(b,d,e,f){var g=e;e=function(b){b||(b=a.event);var d=c.normalise.event(b),e=c.normalise.delta(b);return g(d,e[0],e[1],e[2])},b.element[c.ADD_EVENT](c.PREFIX+d,e,f||!1),b.handlers.push({original:g,normalised:e})},remove:function(a,b,d,e){for(var f,g=d,h={},i=0,j=a.handlers.length;j>i;++i)h[a.handlers[i].original]=a.handlers[i];f=h[g],d=f.normalised,a.element[c.REMOVE_EVENT](c.PREFIX+b,d,e||!1);for(var k in a.handlers)if(a.handlers[k]==f){a.handlers.splice(k,1);break}}};var d,e;c.normalise={browser:function(){"onwheel"in b||b.documentMode>=9||(c.SUPPORT=void 0!==b.onmousewheel?"mousewheel":"DOMMouseScroll"),a.addEventListener||(c.ADD_EVENT="attachEvent",c.REMOVE_EVENT="detachEvent",c.PREFIX="on")},event:function(a){var b="wheel"===c.SUPPORT?a:{originalEvent:a,target:a.target||a.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"===a.type?0:1,deltaX:0,delatZ:0,preventDefault:function(){a.preventDefault?a.preventDefault():a.returnValue=!1},stopPropagation:function(){a.stopPropagation?a.stopPropagation():a.cancelBubble=!1}};return a.wheelDelta&&(b.deltaY=-1/40*a.wheelDelta),a.wheelDeltaX&&(b.deltaX=-1/40*a.wheelDeltaX),a.detail&&(b.deltaY=a.detail),b},delta:function(a){var b,c=0,f=0,g=0,h=0,i=0;return a.deltaY&&(g=-1*a.deltaY,c=g),a.deltaX&&(f=a.deltaX,c=-1*f),a.wheelDelta&&(c=a.wheelDelta),a.wheelDeltaY&&(g=a.wheelDeltaY),a.wheelDeltaX&&(f=-1*a.wheelDeltaX),a.detail&&(c=-1*a.detail),h=Math.abs(c),(!d||d>h)&&(d=h),i=Math.max(Math.abs(g),Math.abs(f)),(!e||e>i)&&(e=i),b=c>0?"floor":"ceil",c=Math[b](c/d),f=Math[b](f/e),g=Math[b](g/e),[c,f,g]}},a.Hamster=c,"function"==typeof a.define&&a.define.amd&&a.define("hamster",[],function(){return c})}(window,window.document);;!function(a,b){"object"==typeof exports?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):b(a)}(this,function(a){function b(a){this._targetElement=a,this._options={nextLabel:"Next &rarr;",prevLabel:"&larr; Back",skipLabel:"Skip",doneLabel:"Done",tooltipPosition:"bottom",tooltipClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!0,keyboardNavigation:!0,showButtons:!0,showBullets:!0,scrollToElement:!0,overlayOpacity:.8}}function c(a){var b=[],c=this;if(this._options.steps)for(var e=[],i=0,k=this._options.steps.length;k>i;i++){var l=d(this._options.steps[i]);if(l.step=b.length+1,"string"==typeof l.element&&(l.element=document.querySelector(l.element)),"undefined"==typeof l.element||null==l.element){var m=document.querySelector(".introjsFloatingElement");null==m&&(m=document.createElement("div"),m.className="introjsFloatingElement",document.body.appendChild(m)),l.element=m,l.position="floating"}null!=l.element&&b.push(l)}else{var e=a.querySelectorAll("*[data-intro]");if(e.length<1)return!1;for(var i=0,n=e.length;n>i;i++){var p=e[i],q=parseInt(p.getAttribute("data-step"),10);q>0&&(b[q-1]={element:p,intro:p.getAttribute("data-intro"),step:parseInt(p.getAttribute("data-step"),10),tooltipClass:p.getAttribute("data-tooltipClass"),position:p.getAttribute("data-position")||this._options.tooltipPosition})}for(var r=0,i=0,n=e.length;n>i;i++){var p=e[i];if(null==p.getAttribute("data-step")){for(;;){if("undefined"==typeof b[r])break;r++}b[r]={element:p,intro:p.getAttribute("data-intro"),step:r+1,tooltipClass:p.getAttribute("data-tooltipClass"),position:p.getAttribute("data-position")||this._options.tooltipPosition}}}}for(var s=[],t=0;t<b.length;t++)b[t]&&s.push(b[t]);if(b=s,b.sort(function(a,b){return a.step-b.step}),c._introItems=b,o.call(c,a)){f.call(c);{a.querySelector(".introjs-skipbutton"),a.querySelector(".introjs-nextbutton")}c._onKeyDown=function(b){27===b.keyCode&&1==c._options.exitOnEsc?(h.call(c,a),void 0!=c._introExitCallback&&c._introExitCallback.call(c)):37===b.keyCode?g.call(c):(39===b.keyCode||13===b.keyCode)&&(f.call(c),b.preventDefault?b.preventDefault():b.returnValue=!1)},c._onResize=function(){j.call(c,document.querySelector(".introjs-helperLayer"))},window.addEventListener?(this._options.keyboardNavigation&&window.addEventListener("keydown",c._onKeyDown,!0),window.addEventListener("resize",c._onResize,!0)):document.attachEvent&&(this._options.keyboardNavigation&&document.attachEvent("onkeydown",c._onKeyDown),document.attachEvent("onresize",c._onResize))}return!1}function d(a){if(null==a||"object"!=typeof a||"undefined"!=typeof a.nodeType)return a;var b={};for(var c in a)b[c]=d(a[c]);return b}function e(a){this._currentStep=a-2,"undefined"!=typeof this._introItems&&f.call(this)}function f(){if(this._direction="forward","undefined"==typeof this._currentStep?this._currentStep=0:++this._currentStep,this._introItems.length<=this._currentStep)return"function"==typeof this._introCompleteCallback&&this._introCompleteCallback.call(this),void h.call(this,this._targetElement);var a=this._introItems[this._currentStep];"undefined"!=typeof this._introBeforeChangeCallback&&this._introBeforeChangeCallback.call(this,a.element),k.call(this,a)}function g(){if(this._direction="backward",0===this._currentStep)return!1;var a=this._introItems[--this._currentStep];"undefined"!=typeof this._introBeforeChangeCallback&&this._introBeforeChangeCallback.call(this,a.element),k.call(this,a)}function h(a){var b=a.querySelector(".introjs-overlay");if(null!=b){b.style.opacity=0,setTimeout(function(){b.parentNode&&b.parentNode.removeChild(b)},500);var c=a.querySelector(".introjs-helperLayer");c&&c.parentNode.removeChild(c);var d=document.querySelector(".introjsFloatingElement");d&&d.parentNode.removeChild(d);var e=document.querySelector(".introjs-showElement");e&&(e.className=e.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,""));var f=document.querySelectorAll(".introjs-fixParent");if(f&&f.length>0)for(var g=f.length-1;g>=0;g--)f[g].className=f[g].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");window.removeEventListener?window.removeEventListener("keydown",this._onKeyDown,!0):document.detachEvent&&document.detachEvent("onkeydown",this._onKeyDown),this._currentStep=void 0}}function i(a,b,c,d){var e,f,g,h="";if(b.style.top=null,b.style.right=null,b.style.bottom=null,b.style.left=null,b.style.marginLeft=null,b.style.marginTop=null,c.style.display="inherit","undefined"!=typeof d&&null!=d&&(d.style.top=null,d.style.left=null),this._introItems[this._currentStep]){e=this._introItems[this._currentStep],h="string"==typeof e.tooltipClass?e.tooltipClass:this._options.tooltipClass,b.className=("introjs-tooltip "+h).replace(/^\s+|\s+$/g,"");var h=this._options.tooltipClass;switch(currentTooltipPosition=this._introItems[this._currentStep].position){case"top":b.style.left="15px",b.style.top="-"+(p(b).height+10)+"px",c.className="introjs-arrow bottom";break;case"right":b.style.left=p(a).width+20+"px",c.className="introjs-arrow left";break;case"left":1==this._options.showStepNumbers&&(b.style.top="15px"),b.style.right=p(a).width+20+"px",c.className="introjs-arrow right";break;case"floating":c.style.display="none",f=p(b),b.style.left="50%",b.style.top="50%",b.style.marginLeft="-"+f.width/2+"px",b.style.marginTop="-"+f.height/2+"px","undefined"!=typeof d&&null!=d&&(d.style.left="-"+(f.width/2+18)+"px",d.style.top="-"+(f.height/2+18)+"px");break;case"bottom-right-aligned":c.className="introjs-arrow top-right",b.style.right="0px",b.style.bottom="-"+(p(b).height+10)+"px";break;case"bottom-middle-aligned":g=p(a),f=p(b),c.className="introjs-arrow top-middle",b.style.left=g.width/2-f.width/2+"px",b.style.bottom="-"+(f.height+10)+"px";break;case"bottom-left-aligned":case"bottom":default:b.style.bottom="-"+(p(b).height+10)+"px",c.className="introjs-arrow top"}}}function j(a){if(a){if(!this._introItems[this._currentStep])return;var b=this._introItems[this._currentStep],c=p(b.element),d=10;"floating"==b.position&&(d=0),a.setAttribute("style","width: "+(c.width+d)+"px; height:"+(c.height+d)+"px; top:"+(c.top-5)+"px;left: "+(c.left-5)+"px;")}}function k(a){"undefined"!=typeof this._introChangeCallback&&this._introChangeCallback.call(this,a.element);{var b=this,c=document.querySelector(".introjs-helperLayer");p(a.element)}if(null!=c){var d=c.querySelector(".introjs-helperNumberLayer"),e=c.querySelector(".introjs-tooltiptext"),k=c.querySelector(".introjs-arrow"),o=c.querySelector(".introjs-tooltip"),q=c.querySelector(".introjs-skipbutton"),r=c.querySelector(".introjs-prevbutton"),s=c.querySelector(".introjs-nextbutton");if(o.style.opacity=0,null!=d){var t=this._introItems[a.step-2>=0?a.step-2:0];(null!=t&&"forward"==this._direction&&"floating"==t.position||"backward"==this._direction&&"floating"==a.position)&&(d.style.opacity=0)}j.call(b,c);var u=document.querySelectorAll(".introjs-fixParent");if(u&&u.length>0)for(var v=u.length-1;v>=0;v--)u[v].className=u[v].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");var w=document.querySelector(".introjs-showElement");w.className=w.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,""),b._lastShowElementTimer&&clearTimeout(b._lastShowElementTimer),b._lastShowElementTimer=setTimeout(function(){null!=d&&(d.innerHTML=a.step),e.innerHTML=a.intro,i.call(b,a.element,o,k,d),c.querySelector(".introjs-bullets li > a.active").className="",c.querySelector('.introjs-bullets li > a[data-stepnumber="'+a.step+'"]').className="active",o.style.opacity=1,d&&(d.style.opacity=1)},350)}else{var x=document.createElement("div"),y=document.createElement("div"),z=document.createElement("div"),A=document.createElement("div"),B=document.createElement("div"),C=document.createElement("div");x.className="introjs-helperLayer",j.call(b,x),this._targetElement.appendChild(x),y.className="introjs-arrow",A.className="introjs-tooltiptext",A.innerHTML=a.intro,B.className="introjs-bullets",this._options.showBullets===!1&&(B.style.display="none");for(var D=document.createElement("ul"),v=0,E=this._introItems.length;E>v;v++){var F=document.createElement("li"),G=document.createElement("a");G.onclick=function(){b.goToStep(this.getAttribute("data-stepnumber"))},0===v&&(G.className="active"),G.href="javascript:void(0);",G.innerHTML="&nbsp;",G.setAttribute("data-stepnumber",this._introItems[v].step),F.appendChild(G),D.appendChild(F)}if(B.appendChild(D),C.className="introjs-tooltipbuttons",this._options.showButtons===!1&&(C.style.display="none"),z.className="introjs-tooltip",z.appendChild(A),z.appendChild(B),1==this._options.showStepNumbers){var H=document.createElement("span");H.className="introjs-helperNumberLayer",H.innerHTML=a.step,x.appendChild(H)}z.appendChild(y),x.appendChild(z);var s=document.createElement("a");s.onclick=function(){b._introItems.length-1!=b._currentStep&&f.call(b)},s.href="javascript:void(0);",s.innerHTML=this._options.nextLabel;var r=document.createElement("a");r.onclick=function(){0!=b._currentStep&&g.call(b)},r.href="javascript:void(0);",r.innerHTML=this._options.prevLabel;var q=document.createElement("a");q.className="introjs-button introjs-skipbutton",q.href="javascript:void(0);",q.innerHTML=this._options.skipLabel,q.onclick=function(){b._introItems.length-1==b._currentStep&&"function"==typeof b._introCompleteCallback&&b._introCompleteCallback.call(b),b._introItems.length-1!=b._currentStep&&"function"==typeof b._introExitCallback&&b._introExitCallback.call(b),h.call(b,b._targetElement)},C.appendChild(q),this._introItems.length>1&&(C.appendChild(r),C.appendChild(s)),z.appendChild(C),i.call(b,a.element,z,y,H)}0==this._currentStep&&this._introItems.length>1?(r.className="introjs-button introjs-prevbutton introjs-disabled",s.className="introjs-button introjs-nextbutton",q.innerHTML=this._options.skipLabel):this._introItems.length-1==this._currentStep||1==this._introItems.length?(q.innerHTML=this._options.doneLabel,r.className="introjs-button introjs-prevbutton",s.className="introjs-button introjs-nextbutton introjs-disabled"):(r.className="introjs-button introjs-prevbutton",s.className="introjs-button introjs-nextbutton",q.innerHTML=this._options.skipLabel),s.focus(),a.element.className+=" introjs-showElement";var I=l(a.element,"position");"absolute"!==I&&"relative"!==I&&(a.element.className+=" introjs-relativePosition");for(var J=a.element.parentNode;null!=J&&"body"!==J.tagName.toLowerCase();){var K=l(J,"z-index"),L=parseFloat(l(J,"opacity"));(/[0-9]+/.test(K)||1>L)&&(J.className+=" introjs-fixParent"),J=J.parentNode}if(!n(a.element)&&this._options.scrollToElement===!0){var M=a.element.getBoundingClientRect(),N=m().height,O=M.bottom-(M.bottom-M.top),P=M.bottom-N;0>O||a.element.clientHeight>N?window.scrollBy(0,O-30):window.scrollBy(0,P+100)}"undefined"!=typeof this._introAfterChangeCallback&&this._introAfterChangeCallback.call(this,a.element)}function l(a,b){var c="";return a.currentStyle?c=a.currentStyle[b]:document.defaultView&&document.defaultView.getComputedStyle&&(c=document.defaultView.getComputedStyle(a,null).getPropertyValue(b)),c&&c.toLowerCase?c.toLowerCase():c}function m(){if(void 0!=window.innerWidth)return{width:window.innerWidth,height:window.innerHeight};var a=document.documentElement;return{width:a.clientWidth,height:a.clientHeight}}function n(a){var b=a.getBoundingClientRect();return b.top>=0&&b.left>=0&&b.bottom+80<=window.innerHeight&&b.right<=window.innerWidth}function o(a){var b=document.createElement("div"),c="",d=this;if(b.className="introjs-overlay","body"===a.tagName.toLowerCase())c+="top: 0;bottom: 0; left: 0;right: 0;position: fixed;",b.setAttribute("style",c);else{var e=p(a);e&&(c+="width: "+e.width+"px; height:"+e.height+"px; top:"+e.top+"px;left: "+e.left+"px;",b.setAttribute("style",c))}return a.appendChild(b),b.onclick=function(){1==d._options.exitOnOverlayClick&&(h.call(d,a),void 0!=d._introExitCallback&&d._introExitCallback.call(d))},setTimeout(function(){c+="opacity: "+d._options.overlayOpacity.toString()+";",b.setAttribute("style",c)},10),!0}function p(a){var b={};b.width=a.offsetWidth,b.height=a.offsetHeight;for(var c=0,d=0;a&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)c+=a.offsetLeft,d+=a.offsetTop,a=a.offsetParent;return b.top=d,b.left=c,b}function q(a,b){var c={};for(var d in a)c[d]=a[d];for(var d in b)c[d]=b[d];return c}var r="0.9.0",s=function(a){if("object"==typeof a)return new b(a);if("string"==typeof a){var c=document.querySelector(a);if(c)return new b(c);throw new Error("There is no element with given selector.")}return new b(document.body)};return s.version=r,s.fn=b.prototype={clone:function(){return new b(this)},setOption:function(a,b){return this._options[a]=b,this},setOptions:function(a){return this._options=q(this._options,a),this},start:function(){return c.call(this,this._targetElement),this},goToStep:function(a){return e.call(this,a),this},nextStep:function(){return f.call(this),this},previousStep:function(){return g.call(this),this},exit:function(){h.call(this,this._targetElement)},refresh:function(){return j.call(this,document.querySelector(".introjs-helperLayer")),this},onbeforechange:function(a){if("function"!=typeof a)throw new Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=a,this},onchange:function(a){if("function"!=typeof a)throw new Error("Provided callback for onchange was not a function.");return this._introChangeCallback=a,this},onafterchange:function(a){if("function"!=typeof a)throw new Error("Provided callback for onafterchange was not a function");return this._introAfterChangeCallback=a,this},oncomplete:function(a){if("function"!=typeof a)throw new Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=a,this},onexit:function(a){if("function"!=typeof a)throw new Error("Provided callback for onexit was not a function.");return this._introExitCallback=a,this}},a.introJs=s,s});;!function(a,b){"use strict";function c(a,b,c){d.directive(a,["$parse","$swipe",function(d,e){var f=75,g=.3,h=30;return function(i,j,k){function l(a){if(!m)return!1;var c=Math.abs(a.y-m.y);return a=(a.x-m.x)*b,n&&f>c&&a>0&&a>h&&g>c/a}var m,n,o=d(k[a]);e.bind(j,{start:function(a){m=a,n=!0},cancel:function(){n=!1},end:function(a,b){l(a)&&i.$apply(function(){j.triggerHandler(c),o(i,{$event:b})})}})}}])}var d=b.module("ngTouch",[]);d.factory("$swipe",[function(){function a(a){var b=a.touches&&a.touches.length?a.touches:[a];return a=a.changedTouches&&a.changedTouches[0]||a.originalEvent&&a.originalEvent.changedTouches&&a.originalEvent.changedTouches[0]||b[0].originalEvent||b[0],{x:a.clientX,y:a.clientY}}return{bind:function(b,c){var d,e,f,g,h=!1;b.on("touchstart mousedown",function(b){f=a(b),h=!0,e=d=0,g=f,c.start&&c.start(f,b)}),b.on("touchcancel",function(a){h=!1,c.cancel&&c.cancel(a)}),b.on("touchmove mousemove",function(b){if(h&&f){var i=a(b);d+=Math.abs(i.x-g.x),e+=Math.abs(i.y-g.y),g=i,10>d&&10>e||(e>d?(h=!1,c.cancel&&c.cancel(b)):(b.preventDefault(),c.move&&c.move(i,b)))}}),b.on("touchend mouseup",function(b){h&&(h=!1,c.end&&c.end(a(b),b))})}}}]),d.config(["$provide",function(a){a.decorator("ngClickDirective",["$delegate",function(a){return a.shift(),a}])}]),d.directive("ngClick",["$parse","$timeout","$rootElement",function(a,c,d){function e(a,b,c){for(var d=0;d<a.length;d+=2)if(Math.abs(a[d]-b)<k&&Math.abs(a[d+1]-c)<k)return a.splice(d,d+2),!0;return!1}function f(a){if(!(Date.now()-h>j)){var b=a.touches&&a.touches.length?a.touches:[a],c=b[0].clientX,b=b[0].clientY;1>c&&1>b||e(i,c,b)||(a.stopPropagation(),a.preventDefault(),a.target&&a.target.blur())}}function g(a){a=a.touches&&a.touches.length?a.touches:[a];var b=a[0].clientX,d=a[0].clientY;i.push(b,d),c(function(){for(var a=0;a<i.length;a+=2)if(i[a]==b&&i[a+1]==d){i.splice(a,a+2);break}},j,!1)}var h,i,j=2500,k=25,l="ng-click-active";return function(c,j,k){function m(){s=!1,j.removeClass(l)}var n,o,p,q,r=a(k.ngClick),s=!1;j.on("touchstart",function(a){s=!0,n=a.target?a.target:a.srcElement,3==n.nodeType&&(n=n.parentNode),j.addClass(l),o=Date.now(),a=a.touches&&a.touches.length?a.touches:[a],a=a[0].originalEvent||a[0],p=a.clientX,q=a.clientY}),j.on("touchmove",function(){m()}),j.on("touchcancel",function(){m()}),j.on("touchend",function(a){var c=Date.now()-o,l=a.changedTouches&&a.changedTouches.length?a.changedTouches:a.touches&&a.touches.length?a.touches:[a],r=l[0].originalEvent||l[0],l=r.clientX,r=r.clientY,t=Math.sqrt(Math.pow(l-p,2)+Math.pow(r-q,2));s&&750>c&&12>t&&(i||(d[0].addEventListener("click",f,!0),d[0].addEventListener("touchstart",g,!0),i=[]),h=Date.now(),e(i,l,r),n&&n.blur(),b.isDefined(k.disabled)&&!1!==k.disabled||j.triggerHandler("click",[a])),m()}),j.onclick=function(){},j.on("click",function(a,b){c.$apply(function(){r(c,{$event:b||a})})}),j.on("mousedown",function(){j.addClass(l)}),j.on("mousemove mouseup",function(){j.removeClass(l)})}}]),c("ngSwipeLeft",-1,"swipeleft"),c("ngSwipeRight",1,"swiperight")}(window,window.angular);;!function(){function provide(a,b){b(function(b){modules[a]=b})}function using(){for(var a,b=Array.prototype.slice.call(arguments,0,-1),c=0,d=[],e=arguments[arguments.length-1];a=b[c];c++){if(!modules[a])throw"[TWITTER] Module dependency missing: "+a;d.push(modules[a])}e&&e.apply(window,d)}var modules={};provide("util/util",function(a){function b(a){return a&&String(a).toLowerCase().indexOf("[native code]")>-1}function c(a){return n(arguments,function(b){e(b,function(b,c){a[b]=c})}),a}function d(a){return e(a,function(b,c){i(c)&&(d(c),j(c)&&delete a[b]),(void 0===c||null===c||""===c)&&delete a[b]}),a}function e(a,b){for(var c in a)(!a.hasOwnProperty||a.hasOwnProperty(c))&&b(c,a[c]);return a}function f(a){return{}.toString.call(a).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function g(a,b){return a==f(b)}function h(a,b,c){return c=c||[],function(){var d=p(arguments,function(a){return a});return a.apply(b,c.concat(d))}}function i(a){return a===Object(a)}function j(a){if(!i(a))return!1;if(Object.keys)return!Object.keys(a).length;for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function k(a,b){window.setTimeout(function(){a.call(b||null)},0)}function l(a){return Array.prototype.slice.call(a)}var m=function(){var a=Array.prototype.indexOf;return b(a)?function(b,c){return b?a.apply(b,[c]):-1}:function(a,b){if(!a)return-1;for(var c=0,d=a.length;d>c;c++)if(b==a[c])return c;return-1}}(),n=function(){var a=Array.prototype.forEach;return b(a)?function(b,c){b&&c&&a.apply(b,[c])}:function(a,b){if(a&&b)for(var c=0,d=a.length;d>c;c++)b(a[c],c)}}(),o=function(){var a=Array.prototype.filter;return b(a)?function(b,c){return b?c?a.apply(b,[c]):b:null}:function(a,b){if(!a)return null;if(!b)return a;for(var c=[],d=0,e=a.length;e>d;d++)b(a[d])&&c.push(a[d]);return c}}(),p=function(){var a=Array.prototype.map;return b(a)?function(b,c){return b?c?a.apply(b,[c]):b:null}:function(a,b){if(!a)return null;if(!b)return a;for(var c=[],d=0,e=a.length;e>d;d++)c.push(b(a[d]));return c}}(),q=function(){var a=Array.prototype.reduce;return b(a)?function(b,c,d){return b?c?a.apply(b,[c,d]):d:null}:function(a,b,c){if(!a)return null;if(!b)return c;for(var d=c,e=0,f=a.length;f>e;e++)d=b(d,a[e],e,a);return d}}(),r=function(){var a=String.prototype.trim;return b(a)?function(b){return b&&a.apply(b)}:function(a){return a&&a.replace(/(^\s+|\s+$)/g,"")}}(),s=b(Object.create)?Object.create:function(a){function b(){}return b.prototype=a,new b};a({aug:c,async:k,compact:d,forIn:e,forEach:n,filter:o,map:p,reduce:q,trim:r,indexOf:m,isNative:b,isObject:i,isEmptyObject:j,createObject:s,bind:h,toType:f,isType:g,toRealArray:l})}),provide("util/typevalidator",function(a){using("util/util",function(b){function c(a){return void 0!==a&&null!==a&&""!==a}function d(a){return f(a)&&a%1===0}function e(a){return f(a)&&!d(a)}function f(a){return c(a)&&!isNaN(a)}function g(a){return c(a)&&"array"==b.toType(a)}function h(a){if(!c(a))return!1;switch(a){case"on":case"ON":case"true":case"TRUE":return!0;case"off":case"OFF":case"false":case"FALSE":return!1;default:return!!a}}function i(a){return f(a)?a:void 0}function j(a){return e(a)?a:void 0}function k(a){return d(a)?a:void 0}a({hasValue:c,isInt:d,isFloat:e,isNumber:f,isArray:g,asInt:k,asFloat:j,asNumber:i,asBoolean:h})})}),provide("tfw/util/globals",function(a){using("util/typevalidator",function(b){function c(){var a,b,c=document.getElementsByTagName("meta"),d=0;for(f={};a=c[d];d++)/^twitter:/.test(a.name)&&(b=a.name.replace(/^twitter:/,""),f[b]=a.content)}function d(a){return f[a]}function e(a){return b.asBoolean(a)&&(f.dnt=!0),b.asBoolean(f.dnt)}var f;c(),a({init:c,val:d,dnt:e})})}),provide("util/logger",function(a){using("util/util",function(b){function c(){i("info",b.toRealArray(arguments))}function d(){i("warn",b.toRealArray(arguments))}function e(){i("error",b.toRealArray(arguments))}function f(a){l&&(k[a]=h())}function g(a){var b;l&&(k[a]?(b=h(),c("_twitter",a,b-k[a])):e("timeEnd() called before time() for id: ",a))}function h(){return window.performance&&+window.performance.now()||+new Date}function i(a,b){if(window[j]&&window[j][a])switch(b.length){case 1:window[j][a](b[0]);break;case 2:window[j][a](b[0],b[1]);break;case 3:window[j][a](b[0],b[1],b[2]);break;case 4:window[j][a](b[0],b[1],b[2],b[3]);break;case 5:window[j][a](b[0],b[1],b[2],b[3],b[4]);break;default:0!==b.length&&window[j].warn&&window[j].warn("too many params passed to logger."+a)}}var j=["con","sole"].join(""),k={},l=!!~location.href.indexOf("tw_debug=true");a({info:c,warn:d,error:e,time:f,timeEnd:g})})}),provide("util/domready",function(a){function b(){f=1;for(var a=0,b=g.length;b>a;a++)g[a]()}var c,d,e,f=0,g=[],h=!1,i=document.createElement("a"),j="DOMContentLoaded",k="addEventListener",l="onreadystatechange";/^loade|c/.test(document.readyState)&&(f=1),document[k]&&document[k](j,d=function(){document.removeEventListener(j,d,h),b()},h),i.doScroll&&document.attachEvent(l,c=function(){/^c/.test(document.readyState)&&(document.detachEvent(l,c),b())}),e=i.doScroll?function(a){window.self!=window.top?f?a():g.push(a):!function(){try{i.doScroll("left")}catch(b){return setTimeout(function(){e(a)},50)}a()}()}:function(a){f?a():g.push(a)},a(e)}),provide("util/env",function(a){using("util/domready","util/typevalidator","util/logger","tfw/util/globals",function(b,c,d,e){function f(a){return a=a||window,a.devicePixelRatio?a.devicePixelRatio>=1.5:a.matchMedia?a.matchMedia("only screen and (min-resolution: 144dpi)").matches:!1}function g(a){return a=a||s,/(Trident|MSIE \d)/.test(a)}function h(a){return a=a||s,/MSIE 6/.test(a)}function i(a){return a=a||s,/MSIE 7/.test(a)}function j(a){return a=a||s,/MSIE 8/.test(a)}function k(a){return a=a||s,/MSIE 9/.test(a)}function l(a){return a=a||s,/(iPad|iPhone|iPod)/.test(a)}function m(a){return a=a||s,/^Mozilla\/5\.0 \(Linux; (U; )?Android/.test(a)}function n(){return t}function o(a,b){return a=a||window,b=b||s,a.postMessage&&!(g(b)&&a.opener)}function p(a){a=a||navigator;try{return!!a.plugins["Shockwave Flash"]||!!new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(b){return!1}}function q(a,b,c){return a=a||window,b=b||navigator,c=c||s,"ontouchstart"in a||/Opera Mini/.test(c)||b.msMaxTouchPoints>0}function r(){var a=document.body.style;return void 0!==a.transition||void 0!==a.webkitTransition||void 0!==a.mozTransition||void 0!==a.oTransition||void 0!==a.msTransition}var s=window.navigator.userAgent,t=!1,u=!1,v="twitter-csp-test";window.twttr=window.twttr||{},twttr.verifyCSP=function(a){var b=document.getElementById(v);u=!0,t=!!a,b&&b.parentNode.removeChild(b)},b(function(){var a;return h()||i()?t=!1:c.asBoolean(e.val("widgets:csp"))?t=!0:(a=document.createElement("script"),a.id=v,a.text="twttr.verifyCSP(false);",document.body.appendChild(a),void window.setTimeout(function(){u||(d.warn('TWITTER: Content Security Policy restrictions may be applied to your site. Add <meta name="twitter:widgets:csp" content="on"> to supress this warning.'),d.warn("TWITTER: Please note: Not all embedded timeline and embedded Tweet functionality is supported when CSP is applied."))},5e3))}),a({retina:f,anyIE:g,ie6:h,ie7:i,ie8:j,ie9:k,ios:l,android:m,cspEnabled:n,flashEnabled:p,canPostMessage:o,touch:q,cssTransitions:r})})}),provide("util/querystring",function(a){function b(a){return encodeURIComponent(a).replace(/\+/g,"%2B").replace(/'/g,"%27")}function c(a){return decodeURIComponent(a)}function d(a){var c,d=[];for(c in a)null!==a[c]&&"undefined"!=typeof a[c]&&d.push(b(c)+"="+b(a[c]));return d.sort().join("&")}function e(a){var b,d,e,f,g={};if(a)for(b=a.split("&"),f=0;e=b[f];f++)d=e.split("="),2==d.length&&(g[c(d[0])]=c(d[1]));return g}function f(a,b){var c=d(b);return c.length>0?a.indexOf("?")>=0?a+"&"+d(b):a+"?"+d(b):a}function g(a){var b=a&&a.split("?");return 2==b.length?e(b[1]):{}}a({url:f,decodeURL:g,decode:e,encode:d,encodePart:b,decodePart:c})}),provide("util/params",function(a){using("util/querystring",function(b){var c,d,e;c=function(a){var c=a.search.substr(1);return b.decode(c)},d=function(a){var c=a.href,d=c.indexOf("#"),e=0>d?"":c.substring(d+1);return b.decode(e)},e=function(a){var b,e={},f=c(a),g=d(a);for(b in f)f.hasOwnProperty(b)&&(e[b]=f[b]);for(b in g)g.hasOwnProperty(b)&&(e[b]=g[b]);return e},a({combined:e,fromQuery:c,fromFragment:d})})}),provide("tfw/util/env",function(a){using("util/params",function(b){function c(){var a=36e5,c=b.combined(document.location)._;return void 0!==d?d:(d=!1,c&&/^\d+$/.test(c)&&(d=+new Date-parseInt(c)<a),d)}var d;a({isDynamicWidget:c})})}),provide("util/widgetrpc",function(a){using("tfw/util/env","util/env",function(b,c){function d(){if(f)return f;if(b.isDynamicWidget()){var a,d=0,e=parent.frames.length;try{if(f=parent.frames[i])return f}catch(g){}if(c.anyIE())for(;e>d;d++)try{if(a=parent.frames[d],a&&"function"==typeof a.openIntent)return f=a}catch(g){}}}function e(){var a,c,f,h,i,m,n={};if("function"===(typeof arguments[0]).toLowerCase()?n.success=arguments[0]:n=arguments[0],a=n.success||function(){},c=n.timeout||function(){},f=n.nohub||function(){},h=n.complete||function(){},i=void 0!==n.attempt?n.attempt:l,!b.isDynamicWidget()||g)return f(),h(),!1;m=d(),i--;try{if(m&&m.trigger)return a(m),void h()}catch(o){}return 0>=i?(g=!0,c(),void h()):+new Date-j>k*l?(g=!0,void f()):void window.setTimeout(function(){e({success:a,timeout:c,nohub:f,attempt:i,complete:h})},k)}var f,g,h="twttrHubFrameSecure",i="http:"==document.location.protocol?"twttrHubFrame":h,j=+new Date,k=100,l=20;a({withHub:e,contextualHubId:i,secureHubId:h})})}),provide("util/promise",function(a){using("util/util",function(b){var c=function(a){try{var b=a.then;if("function"==typeof b)return!0}catch(c){}return!1},d=function(a){Error.call(this,a)};d.prototype=b.createObject(Error.prototype);var e=function(){var a=[];return a.pump=function(c){b.async(function(){for(var b=a.length,d=0;b>d;)d++,a.shift()(c)})},a},f=function(a,d,e,f,g,h){var i=!1,j=this,k=function(a){b.async(function(){h("fulfilled"),f(a),d.pump(a)})},l=function(a){b.async(function(){h("rejected"),g(a),e.pump(a)})},m=function(a){return c(a)?void a.then(m,l):void k(a)},n=function(a){return function(b){i||(i=!0,a(b))}};this.resolve=n(m,"resolve"),this.fulfill=n(k,"fulfill"),this.reject=n(l,"reject"),this.cancel=function(){j.reject(new Error("Cancel"))},this.timeout=function(){j.reject(new Error("Timeout"))},h("pending")},g=function(a){var b,c,d=new e,g=new e,h="pending";this._addAcceptCallback=function(a){d.push(a),"fulfilled"==h&&d.pump(b)},this._addRejectCallback=function(a){g.push(a),"rejected"==h&&g.pump(c)};var i=new f(this,d,g,function(a){b=a},function(a){c=a},function(a){h=a});try{a&&a(i)}catch(j){i.reject(j)}},h=function(a){return"function"==typeof a},i=function(a,c,d){return h(a)?function(){try{var b=a.apply(null,arguments);c.resolve(b)}catch(d){c.reject(d)}}:b.bind(c[d],c)},j=function(a,b,c){return h(a)&&c._addAcceptCallback(a),h(b)&&c._addRejectCallback(b),c};b.aug(g.prototype,{then:function(a,b){var c=this;return new g(function(d){j(i(a,d,"resolve"),i(b,d,"reject"),c)})},"catch":function(a){var b=this;return new g(function(c){j(null,i(a,c,"reject"),b)})}}),g.isThenable=c;var k=function(a){return b.map(a,g.resolve)};g.any=function(){var a=k(arguments);return new g(function(c){if(a.length){var d=!1,e=function(a){d||(d=!0,c.resolve(a))},f=function(a){d||(d=!0,c.reject(a))};b.forEach(a,function(a){a.then(e,f)})}else c.reject("No futures passed to Promise.any()")})},g.every=function(){var a=k(arguments);return new g(function(c){if(a.length){var d=new Array(a.length),e=0,f=function(b,f){e++,d[b]=f,e==a.length&&c.resolve(d)};b.forEach(a,function(a,d){a.then(b.bind(f,null,[d]),c.reject)})}else c.reject("No futures passed to Promise.every()")})},g.some=function(){var a=k(arguments);return new g(function(c){if(a.length){var d=0,e=function(){d++,d==a.length&&c.reject()};b.forEach(a,function(a){a.then(c.resolve,e)})}else c.reject("No futures passed to Promise.some()")})},g.fulfill=function(a){return new g(function(b){b.fulfill(a)})},g.resolve=function(a){return new g(function(b){b.resolve(a)})},g.reject=function(a){return new g(function(b){b.reject(a)})},a(g)})}),provide("util/layout",function(a){using("util/promise",function(b){function c(){}var d,e=[];c.prototype.enqueue=function(a,c){return new b(function(b){e.push({action:a,resolver:b,note:c})})},c.prototype.exec=function(){var a,b=e;if(b.length)for(e=[];b.length;)a=b.shift(),a&&a.action?a.resolver.fulfill(a.action()):a.resolver.reject()},c.prototype.delayedExec=function(){d&&window.clearTimeout(d),d=window.setTimeout(this.exec,100)},a(c)})}),provide("util/iframe",function(a){using("util/util",function(b){a(function(a,c,d){var e;if(d=d||document,a=a||{},c=c||{},a.name){try{e=d.createElement('<iframe name="'+a.name+'"></iframe>')}catch(f){e=d.createElement("iframe"),e.name=a.name}delete a.name}else e=d.createElement("iframe");return a.id&&(e.id=a.id,delete a.id),e.allowtransparency="true",e.scrolling="no",e.setAttribute("frameBorder",0),e.setAttribute("allowTransparency",!0),b.forIn(a,function(a,b){e.setAttribute(a,b)}),b.forIn(c,function(a,b){e.style[a]=b}),e})})}),provide("dom/get",function(a){using("util/util",function(b){function c(a,b,c){return e(a,b,c,1)[0]}function d(a,c,e){var f,g=c&&c.parentNode;return g&&g!==e?g.tagName==a?g:(f=g.className.split(" "),0===a.indexOf(".")&&~b.indexOf(f,a.slice(1))?g:d(a,g,e)):void 0}var e=function(){var a=document.getElementsByClassName;return b.isNative(a)?function(c,d,e,f){var g=d?d.getElementsByClassName(c):a.call(document,c),h=b.filter(g,function(a){return!e||a.tagName.toLowerCase()==e.toLowerCase()});return[].slice.call(h,0,f||h.length)}:function(a,c,d,e){var f,g,h,i,j,k,l,m,n=[];for(c=c||document,h=a.split(" "),k=h.length,f=c.getElementsByTagName(d||"*"),m=f.length,j=0;k>j&&m>0;j++){for(n=[],i=h[j],l=0;m>l&&(g=f[l],~b.indexOf(g.className.split(" "),i)&&n.push(g),j+1!=k||n.length!==e);l++);f=n,m=f.length}return n}}();a({all:e,one:c,ancestor:d})})}),provide("tfw/widget/base",function(a){using("dom/get","util/domready","util/iframe","util/layout","util/promise","util/querystring","util/typevalidator","util/util","tfw/util/globals","util/logger",function(b,c,d,e,f,g,h,i,j,k){function l(a){var b;a&&(a.ownerDocument?(this.srcEl=a,this.classAttr=a.className.split(" ")):(this.srcOb=a,this.classAttr=[]),b=this.params(),this.id=this.generateId(),this.setLanguage(),this.related=b.related||this.dataAttr("related"),this.partner=b.partner||this.dataAttr("partner")||j.val("partner"),this.dnt=b.dnt||this.dataAttr("dnt")||j.dnt()||"",this.styleAttr=[],this.targetEl=a.targetEl,this.completePromise=new f(i.bind(function(a){this.completeResolver=a},this)),this.completed().then(function(a){a&&a!=document.body&&twttr.events.trigger("rendered",{target:a})}))}function m(){i.forEach(r,function(a){a()}),l.doLayout()}function n(a){return a?a.lang?a.lang:n(a.parentNode):void 0}var o,p=0,q={list:[],byId:{}},r=[],s=new e,t="data-twttr-rendered",u={ar:{"%{followers_count} followers":"  %{followers_count}","100K+":"+100 ","10k unit":"10  ",Follow:"","Follow %{screen_name}":" %{screen_name}",K:"",M:"",Tweet:"","Tweet %{hashtag}":" %{hashtag}","Tweet to %{name}":"  %{name}"},bn:{"Follow %{screen_name}":"%{screen_name}-  "},cs:{"Follow %{screen_name}":"Sledovat uivatele %{screen_name}"},da:{"%{followers_count} followers":"%{followers_count} flgere","10k unit":"10k enhed",Follow:"Flg","Follow %{screen_name}":"Flg %{screen_name}","Tweet to %{name}":"Tweet til %{name}"},de:{"%{followers_count} followers":"%{followers_count} Follower","100K+":"100Tsd+","10k unit":"10tsd-Einheit",Follow:"Folgen","Follow %{screen_name}":"%{screen_name} folgen",K:"Tsd",Tweet:"Twittern","Tweet to %{name}":"Tweet an %{name}"},es:{"%{followers_count} followers":"%{followers_count} seguidores","10k unit":"unidad de 10 mil",Follow:"Seguir","Follow %{screen_name}":"Seguir a %{screen_name}",Tweet:"Twittear","Tweet %{hashtag}":"Twittear %{hashtag}","Tweet to %{name}":"Twittear a %{name}"},fa:{"%{followers_count} followers":"%{followers_count} ","100K+":">","10k unit":" ",Follow:" ","Follow %{screen_name}":"  %{screen_name}",K:"",M:"",Tweet:"","Tweet %{hashtag}":"  %{hashtag}","Tweet to %{name}":" %{name}  "},fi:{"%{followers_count} followers":"%{followers_count} seuraajaa","100K+":"100 000+","10k unit":"10 000 yksikk",Follow:"Seuraa","Follow %{screen_name}":"Seuraa kyttj %{screen_name}",K:"tuhatta",M:"milj.",Tweet:"Twiittaa","Tweet %{hashtag}":"Twiittaa %{hashtag}","Tweet to %{name}":"Twiittaa kyttjlle %{name}"},fil:{"%{followers_count} followers":"%{followers_count} mga tagasunod","10k unit":"10k yunit",Follow:"Sundan","Follow %{screen_name}":"Sundan si %{screen_name}",Tweet:"I-tweet","Tweet %{hashtag}":"I-tweet ang %{hashtag}","Tweet to %{name}":"Mag-Tweet kay %{name}"},fr:{"%{followers_count} followers":"%{followers_count} abonns","10k unit":"unit de 10k",Follow:"Suivre","Follow %{screen_name}":"Suivre %{screen_name}",Tweet:"Tweeter","Tweet %{hashtag}":"Tweeter %{hashtag}","Tweet to %{name}":"Tweeter  %{name}"},he:{"%{followers_count} followers":"%{followers_count} ","100K+":" ","10k unit":" ",Follow:"","Follow %{screen_name}":"  %{screen_name}",K:"",M:"",Tweet:"","Tweet %{hashtag}":" %{hashtag}","Tweet to %{name}":"  %{name}"},hi:{"%{followers_count} followers":"%{followers_count} ","100K+":"1   ","10k unit":"10  ",Follow:"","Follow %{screen_name}":"%{screen_name}   ",K:"",M:"",Tweet:"","Tweet %{hashtag}":" %{hashtag}","Tweet to %{name}":"%{name}    "},hu:{"%{followers_count} followers":"%{followers_count} kvet","100K+":"100E+","10k unit":"10E+",Follow:"Kvets","Follow %{screen_name}":"%{screen_name} kvetse",K:"E","Tweet %{hashtag}":"%{hashtag} tweetelse","Tweet to %{name}":"Tweet kldse neki: %{name}"},id:{"%{followers_count} followers":"%{followers_count} pengikut","100K+":"100 ribu+","10k unit":"10 ribu unit",Follow:"Ikuti","Follow %{screen_name}":"Ikuti %{screen_name}",K:"&nbsp;ribu",M:"&nbsp;juta","Tweet to %{name}":"Tweet ke %{name}"},it:{"%{followers_count} followers":"%{followers_count} follower","10k unit":"10k unit",Follow:"Segui","Follow %{screen_name}":"Segui %{screen_name}","Tweet %{hashtag}":"Twitta %{hashtag}","Tweet to %{name}":"Twitta a %{name}"},ja:{"%{followers_count} followers":"%{followers_count}","100K+":"100K","10k unit":"",Follow:"","Follow %{screen_name}":"%{screen_name}",Tweet:"","Tweet %{hashtag}":"%{hashtag} ","Tweet to %{name}":"%{name}"},ko:{"%{followers_count} followers":"%{followers_count} ","100K+":"100 ","10k unit":" ",Follow:"","Follow %{screen_name}":"%{screen_name}  ",K:"",M:"",Tweet:"","Tweet %{hashtag}":"%{hashtag}  ","Tweet to %{name}":"%{name}  "},msa:{"%{followers_count} followers":"%{followers_count} pengikut","100K+":"100 ribu+","10k unit":"10 ribu unit",Follow:"Ikut","Follow %{screen_name}":"Ikut %{screen_name}",K:"ribu",M:"juta","Tweet to %{name}":"Tweet kepada %{name}"},nl:{"%{followers_count} followers":"%{followers_count} volgers","100K+":"100k+","10k unit":"10k-eenheid",Follow:"Volgen","Follow %{screen_name}":"%{screen_name} volgen",K:"k",M:" mln.",Tweet:"Tweeten","Tweet %{hashtag}":"%{hashtag} tweeten","Tweet to %{name}":"Tweeten naar %{name}"},no:{"%{followers_count} followers":"%{followers_count} flgere","100K+":"100 K+","10k unit":"10-K-enhet",Follow:"Flg","Follow %{screen_name}":"Flg %{screen_name}","Tweet to %{name}":"Send en tweet til %{name}"},pl:{"%{followers_count} followers":"%{followers_count} obserwujcych","100K+":"100 tys.+","10k unit":"10 tys.",Follow:"Obserwuj","Follow %{screen_name}":"Obserwuj %{screen_name}",K:"tys.",M:"mln",Tweet:"Tweetnij","Tweet %{hashtag}":"Tweetnij %{hashtag}","Tweet to %{name}":"Tweetnij do %{name}"},pt:{"%{followers_count} followers":"%{followers_count} seguidores","100K+":"+100 mil","10k unit":"10 mil unidades",Follow:"Seguir","Follow %{screen_name}":"Seguir %{screen_name}",K:"Mil",Tweet:"Tweetar","Tweet %{hashtag}":"Tweetar %{hashtag}","Tweet to %{name}":"Tweetar para %{name}"},ro:{"Follow %{screen_name}":"Urmrete pe %{screen_name}"},ru:{"%{followers_count} followers":": %{followers_count} ","100K+":"100 .+","10k unit":" 10k",Follow:"","Follow %{screen_name}":" %{screen_name}",K:".",M:".",Tweet:"","Tweet %{hashtag}":" %{hashtag}","Tweet to %{name}":" %{name}"},sv:{"%{followers_count} followers":"%{followers_count} fljare","10k unit":"10k",Follow:"Flj","Follow %{screen_name}":"Flj %{screen_name}",Tweet:"Tweeta","Tweet %{hashtag}":"Tweeta %{hashtag}","Tweet to %{name}":"Tweeta till %{name}"},th:{"%{followers_count} followers":"%{followers_count} ","100K+":"100+","10k unit":" 10",Follow:"","Follow %{screen_name}":" %{screen_name}",M:"",Tweet:"","Tweet %{hashtag}":" %{hashtag}","Tweet to %{name}":" %{name}"},tr:{"%{followers_count} followers":"%{followers_count} takipi","100K+":"+100 bin","10k unit":"10 bin birim",Follow:"Takip et","Follow %{screen_name}":"Takip et: %{screen_name}",K:"bin",M:"milyon",Tweet:"Tweetle","Tweet %{hashtag}":"Tweetle: %{hashtag}","Tweet to %{name}":"Tweetle: %{name}"},uk:{"Follow %{screen_name}":" %{screen_name}"},ur:{"%{followers_count} followers":"%{followers_count} ","100K+":"   ","10k unit":"  ",Follow:" ","Follow %{screen_name}":"%{screen_name}   ",K:"",M:"",Tweet:" ","Tweet %{hashtag}":"%{hashtag}  ","Tweet to %{name}":"%{name}   "},vi:{"Follow %{screen_name}":"Theo di %{screen_name}"},"zh-cn":{"%{followers_count} followers":"%{followers_count} ","100K+":"10+","10k unit":"1",Follow:"","Follow %{screen_name}":" %{screen_name}",K:"",M:"",Tweet:"","Tweet %{hashtag}":" %{hashtag} ","Tweet to %{name}":" %{name}"},"zh-tw":{"%{followers_count} followers":"%{followers_count} ","100K+":"","10k unit":"1 ",Follow:"","Follow %{screen_name}":" %{screen_name}",K:"",M:"",Tweet:"","Tweet %{hashtag}":"%{hashtag}","Tweet to %{name}":"%{name}"}};i.aug(l.prototype,{setLanguage:function(a){var b;return a||(a=this.params().lang||this.dataAttr("lang")||n(this.srcEl)),(a=a&&a.toLowerCase())?u[a]?this.lang=a:(b=a.replace(/[\-_].*/,""),u[b]?this.lang=b:void(this.lang="en")):this.lang="en"},_:function(a,b){var c=this.lang;return b=b||{},c&&u.hasOwnProperty(c)||(c=this.lang="en"),a=u[c]&&u[c][a]||a,this.ringo(a,b,/%\{([\w_]+)\}/g)},ringo:function(a,b,c){return c=c||/\{\{([\w_]+)\}\}/g,a.replace(c,function(a,c){return void 0!==b[c]?b[c]:a})},makeIframeSource:function(){if(this.iframeSource){var a=g.encode(this.widgetUrlParams());return[twttr.widgets.config.assetUrl(),this.ringo(this.iframeSource,{lang:this.lang}),"#",a].join("")}},add:function(a){q.list.push(this),q.byId[this.id]=a},create:function(a,b,c){var e,g=this;return c[t]=!0,e=d(i.aug({id:this.id,src:a,"class":this.classAttr.join(" ")},c),b,this.targetEl&&this.targetEl.ownerDocument),this.srcEl?this.layout(function(){return g.srcEl.parentNode.replaceChild(e,g.srcEl),g.completeResolver.fulfill(e),e}):this.targetEl?this.layout(function(){return g.targetEl.appendChild(e),g.completeResolver.fulfill(e),e}):f.reject("Did not append widget")},params:function(){var a,b;return this.srcOb?b=this.srcOb:(a=this.srcEl&&this.srcEl.href&&this.srcEl.href.split("?")[1],b=a?g.decode(a):{}),this.params=function(){return b},b},widgetUrlParams:function(){return{}},dataAttr:function(a){return this.srcEl&&this.srcEl.getAttribute("data-"+a)},attr:function(a){return this.srcEl&&this.srcEl.getAttribute(a)},layout:function(a){return s.enqueue(a)},styles:{base:[["font","normal normal normal 11px/18px 'Helvetica Neue', Arial, sans-serif"],["margin","0"],["padding","0"],["whiteSpace","nowrap"]],button:[["fontWeight","bold"],["textShadow","0 1px 0 rgba(255,255,255,.5)"]],large:[["fontSize","13px"],["lineHeight","26px"]],vbubble:[["fontSize","16px"]]},width:function(){throw new Error(name+" not implemented")},height:function(){return"m"==this.size?20:28},minWidth:function(){},maxWidth:function(){},minHeight:function(){},maxHeight:function(){},dimensions:function(){function a(a){switch(typeof a){case"string":return a;case"undefined":return;default:return a+"px"}}var b={width:this.width(),height:this.height()};return this.minWidth()&&(b["min-width"]=this.minWidth()),this.maxWidth()&&(b["max-width"]=this.maxWidth()),this.minHeight()&&(b["min-height"]=this.minHeight()),this.maxHeight()&&(b["max-height"]=this.maxHeight()),i.forIn(b,function(c,d){b[c]=a(d)}),b},generateId:function(){return this.srcEl&&this.srcEl.id||"twitter-widget-"+p++},completed:function(){return this.completePromise}}),l.afterLoad=function(a){r.push(a)},l.doLayout=function(){s.exec()},l.doLayoutAsync=function(){s.delayedExec()},l.init=function(a){o=a},l.find=function(a){return a&&q.byId[a]?q.byId[a].element:null},l.embed=function(a){var c=o.widgets,d=[],e=[],g=[];h.isArray(a)||(a=[a||document]),k.time("sandboxes"),i.forEach(a,function(a){i.forIn(c,function(c,e){var f,h;c.match(/\./)?(f=c.split("."),h=b.all(f[1],a,f[0])):h=a.getElementsByTagName(c),i.forEach(h,function(a){var b;a.getAttribute(t)||(a.setAttribute(t,"true"),b=new e(a),d.push(b),g.push(b.sandboxCreated))})})}),f.every.apply(null,g).then(function(){k.timeEnd("sandboxes")}),l.doLayout(),i.forEach(d,function(a){q.byId[a.id]=a,q.list.push(a),e.push(a.completed()),a.render(o)}),f.every.apply(null,e).then(function(a){a=i.filter(a,function(a){return a}),a.length&&(twttr.events.trigger("loaded",{widgets:a}),k.timeEnd("load"))}),l.doLayoutAsync(),m()},window.setInterval(function(){l.doLayout()},500),a(l)})}),provide("xd/json2",function(exports){function f(a){return 10>a?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;f>c;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)d=rep[c],"string"==typeof d&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}window.JSON||(window.JSON={}),"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}),exports(JSON)}),provide("util/events",function(a){using("util/util",function(b){var c={bind:function(a,b){return this._handlers=this._handlers||{},this._handlers[a]=this._handlers[a]||[],this._handlers[a].push(b)},unbind:function(a,c){if(this._handlers[a])if(c){var d=b.indexOf(this._handlers[a],c);d>=0&&this._handlers[a].splice(d,1)}else this._handlers[a]=[]},trigger:function(a,c){var d=this._handlers&&this._handlers[a];c=c||{},c.type=a,b.forEach(d,function(a){b.async(b.bind(a,this,[c]))})}};a({Emitter:c})})}),provide("xd/jsonrpc",function(a){using("util/util","util/events","xd/json2",function(b,c){function d(a){return(JSON.parse||JSON.decode)(a)}function e(a){this.con=a}function f(){this.id=f.id++}b.aug(e.prototype,{expose:function(a){this.con.bind("message",this._handleRequest(a))},call:function(a){var b,c=this;return this._requests||(this._requests={},this.con.bind("message",function(a){var b;try{a=d(a)}catch(e){return}a.callback&&"number"==typeof a.id&&(b=c._requests[a.id])&&(a.error?b.trigger("error",a):b.trigger("success",a),delete c._requests[a.id])})),b=new f,this._requests[b.id]=b,b.send(this.con,a,Array.prototype.slice.call(arguments,1))},_handleRequest:function(a){var b=this;return function(c){var e,f;try{c=d(c)}catch(g){return}c.callback||"number"==typeof c.id&&"function"==typeof a[c.method]&&(f=b._responseCallbacks(c.id),e=a[c.method].apply(a,c.params.concat(f)),"undefined"!=typeof e&&f[0](e))}},_responseCallbacks:function(a){var b=this.con;return[function(c){b.send(JSON.stringify({id:a,result:c,callback:!0}))},function c(d){b.send(JSON.stringify({id:a,error:c,callback:d}))}]}}),f.id=0,b.aug(f.prototype,c.Emitter,{send:function(a,b,c){return a.send(JSON.stringify({id:this.id,method:b,params:c})),this},success:function(a){return this.bind("success",a),this},error:function(a){return this.bind("error",a),this}}),a(function(a){return new e(a)})})}),provide("xd/flash",function(a){function b(a,b){var c=b||Math.floor(100*Math.random()),d=['<object id="xdflashshim'+c+'" name="xdflashshim'+c+'"','type="application/x-shockwave-flash" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"','width="1" height="1" style="position:absolute;left:-9999px;top:-9999px;">','<param name="movie" value="'+a+"&debug="+window.__XDDEBUG__+'">','<param name="wmode" value="window">','<param name="allowscriptaccess" value="always">',"</object>"].join(" ");return d}a({object:b})}),provide("xd/base",function(a){using("util/util","util/events",function(b,c){function d(){}b.aug(d.prototype,c.Emitter,{transportMethod:"",init:function(){},send:function(a){var b;this._ready?this._performSend(a):b=this.bind("ready",function(){this.unbind("ready",b),this._performSend(a)})},ready:function(){this.trigger("ready",this),this._ready=!0},isReady:function(){return!!this._ready},receive:function(a){this.trigger("message",a)}}),a({Connection:d})})}),provide("xd/parent",function(a){using("xd/base","util/util","util/env",function(b,c,d){function e(a){var b=[];return c.forIn(a,function(a,c){b.push(a+"="+c)}),b.join(",")}function f(){}function g(a){this.transportMethod="PostMessage",this.options=a,this._createChild()
}function h(a){this.transportMethod="Flash",this.options=a,this.token=Math.random().toString(16).substring(2),this._setup()}function i(a){this.transportMethod="Fallback",this.options=a,this._createChild()}var j,k="__ready__",l=0;f.prototype=new b.Connection,c.aug(f.prototype,{_createChild:function(){this.options.window?this._createWindow():this._createIframe()},_createIframe:function(){function a(){g.child=b.contentWindow,g._ready||g.init()}var b,d,e,f,g=this,h={allowTransparency:!0,frameBorder:"0",scrolling:"no",tabIndex:"0",name:this._name()},i=c.aug(c.aug({},h),this.options.iframe),k=!1;window.postMessage?(j||(j=document.createElement("iframe")),b=j.cloneNode(!1)):b=document.createElement('<iframe name="'+i.name+'">'),b.id=i.name,c.forIn(i,function(a,c){"style"!=a&&b.setAttribute(a,c)}),f=b.getAttribute("style"),f&&"undefined"!=typeof f.cssText?f.cssText=i.style:b.style.cssText=i.style,b.addEventListener?b.addEventListener("load",a,!1):b.attachEvent("onload",function(){k||(k=!0,a())}),b.src=this._source(),(d=this.options.appendTo)?d.appendChild(b):(e=this.options.replace)?(d=e.parentNode,d&&d.replaceChild(b,e)):document.body.insertBefore(b,document.body.firstChild)},_createWindow:function(){var a,b={width:550,height:450,personalbar:"0",toolbar:"0",scrollbars:"1",resizable:"1"},d=c.aug(c.aug({},b),this.options.window),f=screen.width,g=screen.height,h=this._name();d.left=d.left||Math.round(f/2-d.width/2),d.top=d.top||Math.round(g/2-d.height/2),g<d.height&&(d.top=0,d.height=g),a=window.open(this._source(),h,e(d)),a&&a.focus(),this.child=a,this.init()},_source:function(){return this.options.src},_name:function(){var a="_xd_"+l++;return window.parent&&window.parent!=window&&window.name&&(a=window.name+a),a}}),g.prototype=new f,c.aug(g.prototype,{init:function(){function a(a){a.source===b.child&&(b._ready||a.data!==k?b.receive(a.data):b.ready())}var b=this;window.addEventListener?window.addEventListener("message",a,!1):window.attachEvent("onmessage",a)},_performSend:function(a){this.child.postMessage(a,this.options.src)}}),h.prototype=new f,c.aug(h.prototype,{_setup:function(){var a=this;using("xd/flash",function(b){window["__xdcb"+a.token]={receive:function(b){a._ready||b!==k?a.receive(b):a.ready()},loaded:function(){}};var c=document.createElement("div");c.innerHTML=b.object("https://platform.twitter.com/xd/ft.swf?&token="+a.token+"&parent=true&callback=__xdcb"+a.token+"&xdomain="+a._host(),a.token),document.body.insertBefore(c,document.body.firstChild),a.proxy=c.firstChild,a._createChild()})},init:function(){},_performSend:function(a){this.proxy.send(a)},_host:function(){return this.options.src.replace(/https?:\/\//,"").split(/(:|\/)/)[0]},_source:function(){return this.options.src+(this.options.src.match(/\?/)?"&":"?")+"xd_token="+window.escape(this.token)}}),i.prototype=new f,c.aug(i.prototype,{init:function(){},_performSend:function(){}}),a({connect:function(a){return!d.canPostMessage()||d.anyIE()&&a.window?d.anyIE()&&d.flashEnabled()?new h(a):new i(a):new g(a)}})})}),provide("tfw/hub/client",function(a){using("xd/parent","xd/jsonrpc","tfw/widget/base","util/widgetrpc",function(b,c,d,e){function f(a,e){var f=b.connect({src:a,iframe:{name:e,style:"position:absolute;top:-9999em;width:10px;height:10px"}});return c(f).expose({trigger:function(a,b,c){b=b||{};var e=b.region;delete b.region,twttr.events.trigger(a,{target:d.find(c),data:b,region:e,type:a})},initXPHub:function(){h(twttr.widgets.config,!0)}}),f}function g(a){return a?e.secureHubId:e.contextualHubId}function h(a,b){var c=a.assetUrl(b)+"/widgets/hub.1c5a573e465d84666458a45e49b0a735.html",d=g(b);return document.getElementById(d)?void 0:f(c,d)}function i(a,d){var e=b.connect({window:{width:550,height:450},src:a});c(e).expose({trigger:function(a,b){twttr.events.trigger(a,{target:d,region:"intent",type:a,data:b})}})}a({init:h,openIntent:i})})}),provide("util/twitter",function(a){using("util/querystring",function(b){function c(a){return"string"==typeof a&&m.test(a)&&RegExp.$1.length<=20}function d(a){return c(a)?RegExp.$1:void 0}function e(a,c){var e=b.decodeURL(a);return c=c||!1,e.screen_name=d(a),e.screen_name?b.url("https://twitter.com/intent/"+(c?"follow":"user"),e):void 0}function f(a){return e(a,!0)}function g(a){return"string"==typeof a&&q.test(a)}function h(a,b){return b=void 0===b?!0:b,g(a)?(b?"#":"")+RegExp.$1:void 0}function i(a){return"string"==typeof a&&n.test(a)}function j(a){return i(a)&&RegExp.$1}function k(a){return o.test(a)}function l(a){return p.test(a)}var m=/(?:^|(?:https?\:)?\/\/(?:www\.)?twitter\.com(?:\:\d+)?(?:\/intent\/(?:follow|user)\/?\?screen_name=|(?:\/#!)?\/))@?([\w]+)(?:\?|&|$)/i,n=/(?:^|(?:https?\:)?\/\/(?:www\.)?twitter\.com(?:\:\d+)?\/(?:#!\/)?[\w_]+\/status(?:es)?\/)(\d+)/i,o=/^http(s?):\/\/(\w+\.)*twitter\.com([\:\/]|$)/i,p=/^http(s?):\/\/pbs\.twimg\.com\//,q=/^#?([^.,<>!\s\/#\-\(\)\'\"]+)$/;a({isHashTag:g,hashTag:h,isScreenName:c,screenName:d,isStatus:i,status:j,intentForProfileURL:e,intentForFollowURL:f,isTwitterURL:k,isTwimgURL:l,regexen:{profile:m}})})}),provide("util/uri",function(a){using("util/querystring","util/util","util/twitter",function(b,c,d){function e(a,b){var c,d;return b=b||location,/^https?:\/\//.test(a)?a:/^\/\//.test(a)?b.protocol+a:(c=b.host+(b.port.length?":"+b.port:""),0!==a.indexOf("/")&&(d=b.pathname.split("/"),d.pop(),d.push(a),a="/"+d.join("/")),[b.protocol,"//",c,a].join(""))}function f(){for(var a,b=document.getElementsByTagName("link"),c=0;a=b[c];c++)if("canonical"==a.rel)return e(a.href)}function g(){for(var a,b,c,e=document.getElementsByTagName("a"),f=document.getElementsByTagName("link"),g=[e,f],h=0,i=0,j=/\bme\b/;a=g[h];h++)for(i=0;b=a[i];i++)if(j.test(b.rel)&&(c=d.screenName(b.href)))return c}a({absolutize:e,getCanonicalURL:f,getScreenNameFromPage:g})})}),provide("dom/delegate",function(a){using("util/util",function(b){function c(a){var b=a.getAttribute("data-twitter-event-id");return b?b:(a.setAttribute("data-twitter-event-id",++q),q)}function d(a,b,c){var d=0,e=a&&a.length||0;for(d=0;e>d;d++)a[d].call(b,c)}function e(a,b,c){for(var f=c||a.target||a.srcElement,g=f.className.split(" "),h=0,i=g.length;i>h;h++)d(b["."+g[h]],f,a);d(b[f.tagName],f,a),a.cease||f!==this&&e.call(this,a,b,f.parentElement||f.parentNode)}function f(a,b,c,d){function f(d){e.call(a,d,c[b])}function h(){e.call(a,a.ownerDocument.parentWindow.event,c[b])}return a.addEventListener?(g(a,f,b,d),void a.addEventListener(b,f,!1)):void(a.attachEvent&&(g(a,h,b,d),a.attachEvent("on"+b,h)))}function g(a,b,c,d){a.id&&(r[a.id]=r[a.id]||[],r[a.id].push({el:a,listener:b,type:c,rootId:d}))}function h(a){var c=r[a];c&&(b.forEach(c,function(a){i(a.el,a.type,a.listener),delete p[a.rootId]}),delete r[a])}function i(a,b,c){a&&a.removeEventListener&&a.removeEventListener(b,c),a&&a.detachEvent&&a.detachEvent(b,c)}function j(a,b,d,e){var g=c(a);p[g]=p[g]||{},p[g][b]||(p[g][b]={},f(a,b,p[g],g)),p[g][b][d]=p[g][b][d]||[],p[g][b][d].push(e)}function k(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,function(){c(window.event)})}function l(a,b,d){var f=c(b),g=p[f]&&p[f];e.call(b,{target:d},g[a])}function m(a){return o(a),n(a),!1}function n(a){a&&a.preventDefault?a.preventDefault():a.returnValue=!1}function o(a){a&&(a.cease=!0)&&a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}var p={},q=-1,r={};a({stop:m,stopPropagation:o,preventDefault:n,delegate:j,on:k,simulate:l,removeDelegatesForWidget:h,off:i})})}),provide("tfw/util/article",function(a){using("dom/delegate","tfw/util/globals","util/uri","xd/json2",function(b,c,d){function e(){if(f=d.getCanonicalURL()||""+document.location,window.top.postMessage){if(window==window.top)return void b.on(window,"message",function(a){var b;if(!a.data||"{"==a.data[0]){try{b=JSON.parse(a.data)}catch(d){}b&&"twttr:private:requestArticleUrl"==b.name&&a.source.postMessage(JSON.stringify({name:"twttr:private:provideArticleUrl",data:{url:f,dnt:c.dnt()}}),"*")}});b.on(window,"message",function(a){var b;if(!a.data||"{"==a.data[0]){try{b=JSON.parse(a.data)}catch(d){}b&&"twttr:private:provideArticleUrl"==b.name&&(f=b.data&&b.data.url,c.dnt(b.data.dnt),g=document.location.href)}}),window.top.postMessage(JSON.stringify({name:"twttr:private:requestArticleUrl"}),"*")}}var f,g="";e(),a({url:function(){return f},frameUrl:function(){return g}})})}),provide("dom/classname",function(a){function b(a){return new RegExp("\\b"+a+"\\b","g")}function c(a,c){return a.classList?void a.classList.add(c):void(b(c).test(a.className)||(a.className+=" "+c))}function d(a,c){return a.classList?void a.classList.remove(c):void(a.className=a.className.replace(b(c)," "))}function e(a,b,e){return void 0===e&&a.classList&&a.classList.toggle?a.classList.toggle(b,e):(e?c(a,b):d(a,b),e)}function f(a,e,f){return a.classList&&g(a,e)?(d(a,e),void c(a,f)):void(a.className=a.className.replace(b(e),f))}function g(a,c){return a.classList?a.classList.contains(c):b(c).test(a.className)}a({add:c,remove:d,replace:f,toggle:e,present:g})}),provide("util/throttle",function(a){function b(a,b,c){function d(){var c=+new Date;return window.clearTimeout(e),c-g>b?(g=c,void a.call(f)):void(e=window.setTimeout(d,b))}var e,f=c||this,g=0;return d}a(b)}),provide("util/css",function(a){using("util/util",function(b){a({sanitize:function(a,c,d){var e,f=/^[\w ,%\/"'\-_#]+$/,g=a&&b.map(a.split(";"),function(a){return b.map(a.split(":").slice(0,2),function(a){return b.trim(a)})}),h=0,i=[],j=d?"!important":"";for(c=c||/^(font|text\-|letter\-|color|line\-)[\w\-]*$/;g&&(e=g[h]);h++)e[0].match(c)&&e[1].match(f)&&i.push(e.join(":")+j);return i.join(";")}})})}),provide("tfw/util/params",function(a){using("util/querystring","util/twitter",function(b,c){a(function(a,d){return function(e){var f,g,h="data-tw-params";if(e&&c.isTwitterURL(e.href)&&!e.getAttribute(h)){if(e.setAttribute(h,!0),"function"==typeof d){f=d.call(this,e);for(g in f)f.hasOwnProperty(g)&&(a[g]=f[g])}e.href=b.url(e.href,a)}}})})}),provide("util/donottrack",function(a){using("tfw/util/globals",function(b){a(function(a,c){var d=/\.(gov|mil)(:\d+)?$/i,e=/https?:\/\/([^\/]+).*/i;return a=a||document.referrer,a=e.test(a)&&RegExp.$1,c=c||document.location.host,b.dnt()?!0:d.test(c)?!0:a&&d.test(a)?!0:document.navigator?1==document.navigator.doNotTrack:navigator?1==navigator.doNotTrack||1==navigator.msDoNotTrack:!1})})}),provide("sandbox/baseframe",function(a){using("util/domready","util/env","util/iframe","util/promise","util/util",function(b,c,d,e,f){function g(a,b,c,g){var h;this.readyPromise=new e(f.bind(function(a){this.resolver=a},this)),this.attrs=a||{},this.styles=b||{},this.appender=c||function(a){document.body.appendChild(a)},this.layout=g||function(a){return new e(function(b){return b.fulfill(a())})},this.frame=h=d(this.attrs,this.styles),h.onreadystatechange=h.onload=this.getCallback(this.onLoad),this.layout(f.bind(function(){this.appender(h)},this))}var h=0;window.twttr=window.twttr||{},window.twttr.sandbox=window.twttr.sandbox||{},g.prototype.getCallback=function(a){var b=this,c=!1;return function(){c||(c=!0,a.call(b))}},g.prototype.registerCallback=function(a){var b="cb"+h++;return window.twttr.sandbox[b]=a,b},g.prototype.onLoad=function(){try{this.document=this.frame.contentWindow.document}catch(a){return void this.setDocDomain()}this.writeStandardsDoc(),this.resolver.fulfill(this)},g.prototype.ready=function(){return this.readyPromise},g.prototype.setDocDomain=function(){var a=d(this.attrs,this.styles),b=this.registerCallback(this.getCallback(this.onLoad));a.src=["javascript:",'document.write("");',"try { window.parent.document; }","catch (e) {",'document.domain="'+document.domain+'";',"}",'window.parent.twttr.sandbox["'+b+'"]();'].join(""),this.layout(f.bind(function(){this.frame.parentNode.removeChild(this.frame),this.frame=null,this.appender?this.appender(a):document.body.appendChild(a),this.frame=a},this))},g.prototype.writeStandardsDoc=function(){if(c.anyIE()&&!c.cspEnabled()){var a=["<!DOCTYPE html>","<html>","<head>","<scr","ipt>","try { window.parent.document; }",'catch (e) {document.domain="'+document.domain+'";}',"</scr","ipt>","</head>","<body></body>","</html>"].join("");this.document.write(a),this.document.close()}},a(g)})}),provide("sandbox/minimal",function(a){using("sandbox/baseframe","util/env","util/promise","util/util",function(b,c,d,e){function f(a,b){a&&(this._frame=a,this._win=a.contentWindow,this._doc=this._win.document,this._body=this._doc.body,this._head=this._body.parentNode.children[0],this.layout=b)}e.aug(f.prototype,{createElement:function(a){return this._doc.createElement(a)},createDocumentFragment:function(){return this._doc.createDocumentFragment()},appendChild:function(a){return this.layout(e.bind(function(){return this._body.appendChild(a)},this))},setBaseTarget:function(a){var b=this._doc.createElement("base");return b.target=a,this.layout(e.bind(function(){return this._head.appendChild(b)},this))},setTitle:function(a){a&&(this._frame.title=a)},element:function(){return this._frame},document:function(){return this._doc}}),f.createSandbox=function(a,c,d,e){var g=new b(a,c,d,e);return g.ready().then(function(a){return new f(a.frame,a.layout)})},a(f)})}),provide("dom/cookie",function(a){using("util/util",function(b){a(function(a,c,d){var e,f,g,h,i=b.aug({},d);return arguments.length>1&&"[object Object]"!==String(c)?((null===c||void 0===c)&&(i.expires=-1),"number"==typeof i.expires&&(e=i.expires,f=new Date((new Date).getTime()+60*e*1e3),i.expires=f),c=String(c),document.cookie=[encodeURIComponent(a),"=",i.raw?c:encodeURIComponent(c),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")):(i=c||{},h=i.raw?function(a){return a}:decodeURIComponent,(g=new RegExp("(?:^|; )"+encodeURIComponent(a)+"=([^;]*)").exec(document.cookie))?h(g[1]):null)})})}),provide("tfw/util/tracking",function(a){var b="8fb995ceb5b305f36adfa5c708450bb93ae840ae:1412703999";using("dom/cookie","dom/delegate","sandbox/minimal","util/donottrack","util/promise","util/querystring","tfw/util/env","util/iframe","util/util","xd/json2",function(c,d,e,f,g,h,i,j,k){function l(){return I?J:(e.createSandbox({id:"rufous-sandbox"},{display:"none"}).then(k.bind(function(a){F=a,D=z(),E=A(),G.fulfill([D,E])},this)),I=!0,J)}function m(a,b,c,d){return n(a,b,c,d,2)}function n(a,b,c,d,e){var f=!k.isObject(a),g=b?!k.isObject(b):!1;f||g||q(v(a),w(b,c,d,e),!0)}function o(a,b,c,d,e){var f=p(a.target||a.srcElement);f.action=e||"click",n(f,b,c,d)}function p(a,b){var c;return b=b||{},a&&1===a.nodeType?((c=a.getAttribute("data-scribe"))&&k.forEach(c.split(" "),function(a){var c=k.trim(a).split(":"),d=c[0],e=c[1];d&&e&&!b[d]&&(b[d]=e)}),p(a.parentNode,b)):b}function q(a,b,c){var d,e,f,g,i;k.isObject(a)&&k.isObject(b)&&(f=k.aug({},b,{event_namespace:a}),c?(g={l:C(f)},f.dnt&&(g.dnt=1),B(h.url(K,g))):(d=D.firstChild,d.value=+(+d.value||f.dnt||0),i=C(f),e=F.createElement("input"),e.type="hidden",e.name="l",e.value=i,D.appendChild(e)))}function r(a,b,c,d){var e=!k.isObject(a),f=b?!k.isObject(b):!1;e||f||J.then(function(){q(v(a),w(b,c,d))})}function s(a,b){k.isObject(a)&&J.then(function(){q(v(k.aug({action:"impression"},a)),x(b))})}function t(){return J.then(function(){if(D.children.length<=2)return g.reject();var a=g.every(F.appendChild(D),F.appendChild(E)).then(function(a){var b=a[0],c=a[1];return d.on(c,"load",function(){u(b,c)(),twttr.events.trigger("logFlushed")}),b.submit(),a});return D=z(),E=A(),a})}function u(a,b){return function(){var c=a.parentNode;c&&(c.removeChild(a),c.removeChild(b))}}function v(a){return k.aug({client:"tfw"},a||{})}function w(a,c,d,e){var g=a&&a.widget_origin||document.referrer;return a=y("tfw_client_event",a,d||f(g)),a.client_version=b,a.format_version=void 0!==e?e:1,c||(a.widget_origin=g),a}function x(a){return y("syndicated_impression",{},a)}function y(a,b,c){return b=b||{},k.aug(b,{_category_:a,triggered_on:b.triggered_on||+new Date,dnt:!!c})}function z(){var a=F.createElement("form"),b=F.createElement("input"),c=F.createElement("input");return H++,a.action=K,a.method="POST",a.target="rufous-frame-"+H,a.id="rufous-form-"+H,b.type="hidden",b.name="dnt",b.value=0,c.type="hidden",c.name="tfw_redirect",c.value=L,a.appendChild(b),a.appendChild(c),a}function A(){var a="rufous-frame-"+H;return j({id:a,name:a,width:0,height:0,border:0},{display:"none"},F.document())}function B(a){var b=new Image;b.src=a}function C(a){var b,c=Array.prototype.toJSON;return delete Array.prototype.toJSON,b=JSON.stringify(a),c&&(Array.prototype.toJSON=c),b}var D,E,F,G,H=0,I=!1,J=new g(function(a){G=a}),K="https://syndication.twitter.com/i/jot/syndication",L="https://platform.twitter.com/jot.html";twttr.widgets&&twttr.widgets.endpoints&&(K=twttr.widgets.endpoints.rufous||K,L=twttr.widgets.endpoints.rufousRedirect||L),a({enqueue:r,enqueueAudienceImpression:s,flush:t,initPostLogging:l,scribeInteraction:o,extractTermsFromDOM:p,addPixel:n,addPixel2:m})})}),provide("tfw/util/media",function(a){using("dom/delegate","dom/get","util/util","util/env","util/twitter",function(b,c,d,e,f){function g(a,b){return 2==a||3==a&&0===+b}function h(a){var b=a.split(" ");this.url=decodeURIComponent(d.trim(b[0])),this.width=+d.trim(b[1].replace(/w$/,""))}function i(a,b,c){var e,f,g,i;if(a=window.devicePixelRatio?a*window.devicePixelRatio:a,f=d.map(b.split(","),function(a){return new h(a)}),c)for(i=0;i<f.length;i++)f[i].url===c&&(e=f[i]);return g=d.reduce(f,function(b,c){return c.width<b.width&&c.width>=a?c:b},f[0]),e&&e.width>g.width?e:g}function j(a,b){var c,d=a.getAttribute("data-srcset"),e=a.src;d&&(c=i(b,d,e),a.src=c.url)}function k(a,b){b=b||e.retina(),b&&d.forEach(a.getElementsByTagName("IMG"),function(a){var b=a.getAttribute("data-src-2x");b&&(a.src=b)})}function l(a,b,e,f){var h=0,i=e?600:375,k=c.one("multi-photo",a,"DIV"),l=k&&+k.getAttribute("data-photo-count");return a?(d.forEach(c.all("autosized-media",a),function(a){var c=m(a.getAttribute("data-width"),a.getAttribute("data-height"),b,i);f(function(){j(a,b),a.width=c.width,a.height=c.height,n(a,c)}),h=c.height>h?c.height:h}),d.forEach(c.all("cropped-media",a,"IMG"),function(a){var c,d,e,k=b-12,n=a.parentNode,r=a.getAttribute("data-crop-x")||0,s=a.getAttribute("data-crop-y")||0,t=g(l,a.getAttribute("data-image-index")),u=Math.floor(k/2-o),v=Math.floor(u/(t?p:q));t||(v-=o/2),e=m(a.getAttribute("data-width"),a.getAttribute("data-height"),u,i,u,v),c=e.width-u-r,d=e.height-v-s,0>c&&Math.max(0,r+=c),0>d&&Math.max(0,s+=d),f(function(){j(a,u),a.width=e.width,a.height=e.height,n.style.width=u-1+"px",n.style.height=v+"px",r&&(a.style.marginLeft="-"+Math.floor(e.width*r/100)+"px"),s&&(a.style.marginTop="-"+Math.floor(e.height*s/100)+"px")}),h=e.height*(t?2:1)>h?e.height:h}),h):void 0}function m(a,b,c,d,e,f){return c=c||a,d=d||b,e=e||0,f=f||0,a>c&&(b*=c/a,a=c),b>d&&(a*=d/b,b=d),e>a&&(b*=e/a,a=e),f>b&&(a*=f/b,b=f),{width:Math.floor(a),height:Math.floor(b)}}function n(a,c){function d(){var a={name:"tfw:resize",dimensions:c};h.postMessage(a,"*")}var g,h,i,j,k;a&&(h=a.contentWindow,g=a.ownerDocument&&a.ownerDocument.defaultView,i=e.ios()||e.android(),j=f.isTwitterURL(a.src),k=h&&e.canPostMessage(h),i&&j&&k&&(d(),g&&b.on(g,"message",function(a){"tfw:requestsize"===a.data&&d()})))}var o=6,p=8/9,q=16/9;a({scaleDimensions:m,retinize:k,constrainMedia:l,__setSrcFromSet:j})})}),provide("tfw/util/data",function(a){using("util/logger","util/util","util/querystring",function(b,c,d){function e(a){return function(c){c.error?a.error&&a.error(c):c.headers&&200!=c.headers.status?(a.error&&a.error(c),b.warn(c.headers.message)):a.success&&a.success(c),a.complete&&a.complete(c),f(a)}}function f(a){var b=a.script;b&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),a.script=void 0,b=void 0),a.callbackName&&twttr.tfw.callbacks[a.callbackName]&&delete twttr.tfw.callbacks[a.callbackName]}function g(a){var b={};return a.success&&c.isType("function",a.success)&&(b.success=a.success),a.error&&c.isType("function",a.error)&&(b.error=a.error),a.complete&&c.isType("function",a.complete)&&(b.complete=a.complete),b}window.twttr=window.twttr||{},twttr.tfw=twttr.tfw||{},twttr.tfw.callbacks=twttr.tfw.callbacks||{};var h="twttr.tfw.callbacks",i=twttr.tfw.callbacks,j="cb",k=0,l=!1,m={},n={tweets:"https://syndication.twitter.com/tweets.json",timeline:"https://cdn.syndication.twimg.com/widgets/timelines/",timelinePoll:"https://syndication.twitter.com/widgets/timelines/paged/",timelinePreview:"https://syndication.twitter.com/widgets/timelines/preview/"};twttr.widgets&&twttr.widgets.endpoints&&c.aug(n,twttr.widgets.endpoints),m.jsonp=function(a,b,c){var f=c||j+k,g=h+"."+f,m=document.createElement("script"),n={callback:g,suppress_response_codes:!0};i[f]=e(b),(l||!/^https?\:$/.test(window.location.protocol))&&(a=a.replace(/^\/\//,"https://")),m.src=d.url(a,n),m.async="async",document.body.appendChild(m),b.script=m,b.callbackName=f,c||k++},m.config=function(a){(a.forceSSL===!0||a.forceSSL===!1)&&(l=a.forceSSL)},m.tweets=function(a){var b=arguments[0],c=g(b),e={ids:a.ids.join(","),lang:a.lang},f=d.url(n.tweets,e);this.jsonp(f,c)},m.timeline=function(a){var b,e=arguments[0],f=g(e),h=9e5,i=Math.floor(+new Date/h),j={lang:a.lang,t:i,domain:window.location.host,dnt:a.dnt,override_type:a.overrideType,override_id:a.overrideId,override_name:a.overrideName,override_owner_id:a.overrideOwnerId,override_owner_name:a.overrideOwnerName,with_replies:a.withReplies};c.compact(j),b=d.url(n.timeline+a.id,j),this.jsonp(b,f,"tl_"+a.id+"_"+a.instanceId)},m.timelinePoll=function(a){var b,e=arguments[0],f=g(e),h={lang:a.lang,since_id:a.sinceId,max_id:a.maxId,min_position:a.minPosition,max_position:a.maxPosition,domain:window.location.host,dnt:a.dnt,override_type:a.overrideType,override_id:a.overrideId,override_name:a.overrideName,override_owner_id:a.overrideOwnerId,override_owner_name:a.overrideOwnerName,with_replies:a.withReplies};c.compact(h),b=d.url(n.timelinePoll+a.id,h),this.jsonp(b,f,"tlPoll_"+a.id+"_"+a.instanceId+"_"+(a.sinceId||a.maxId||a.maxPosition||a.minPosition))},m.timelinePreview=function(a){var b=arguments[0],c=g(b),e=a.params,f=d.url(n.timelinePreview,e);this.jsonp(f,c)},a(m)})}),provide("anim/transition",function(a){function b(a,b){var c;return b=b||window,(c=b.requestAnimationFrame||b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||b.msRequestAnimationFrame||b.oRequestAnimationFrame||function(){b.setTimeout(function(){a(+new Date)},1e3/60)})(a)}function c(a,b){return Math.sin(Math.PI/2*b)*a}function d(a,c,d,e,f){function g(){var i=+new Date,j=i-h,k=Math.min(j/d,1),l=e?e(c,k):c*k;a(l),1!=k&&b(g,f)}var h=+new Date;b(g)}a({animate:d,requestAnimationFrame:b,easeOut:c})}),provide("util/datetime",function(a){using("util/util",function(b){function c(a){return 10>a?"0"+a:a}function d(a){function b(a,b){return e&&e[a]&&(a=e[a]),a.replace(/%\{([\w_]+)\}/g,function(a,c){return void 0!==b[c]?b[c]:a})}var e=a&&a.phrases,f=a&&a.months||h,g=a&&a.formats||i;this.timeAgo=function(a){var c,e=d.parseDate(a),h=+new Date,i=h-e;return e?isNaN(i)||2*j>i?b("now"):k>i?(c=Math.floor(i/j),b(g.abbr,{number:c,symbol:b(n,{abbr:b("s"),expanded:b(c>1?"seconds":"second")})})):l>i?(c=Math.floor(i/k),b(g.abbr,{number:c,symbol:b(n,{abbr:b("m"),expanded:b(c>1?"minutes":"minute")})})):m>i?(c=Math.floor(i/l),b(g.abbr,{number:c,symbol:b(n,{abbr:b("h"),expanded:b(c>1?"hours":"hour")})})):365*m>i?b(g.shortdate,{day:e.getDate(),month:b(f[e.getMonth()])}):b(g.longdate,{day:e.getDate(),month:b(f[e.getMonth()]),year:e.getFullYear().toString().slice(2)}):""},this.localTimeStamp=function(a){var e=d.parseDate(a),h=e&&e.getHours();return e?b(g.full,{day:e.getDate(),month:b(f[e.getMonth()]),year:e.getFullYear(),hours24:c(h),hours12:13>h?h?h:"12":h-12,minutes:c(e.getMinutes()),seconds:c(e.getSeconds()),amPm:b(12>h?"AM":"PM")}):""}}var e=/(\d{4})-?(\d{2})-?(\d{2})T(\d{2}):?(\d{2}):?(\d{2})(Z|[\+\-]\d{2}:?\d{2})/,f=/[a-z]{3,4} ([a-z]{3}) (\d{1,2}) (\d{1,2}):(\d{2}):(\d{2}) ([\+\-]\d{2}:?\d{2}) (\d{4})/i,g=/^\d+$/,h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i={abbr:"%{number}%{symbol}",shortdate:"%{day} %{month}",longdate:"%{day} %{month} %{year}",full:"%{hours12}:%{minutes} %{amPm} - %{day} %{month} %{year}"},j=1e3,k=60*j,l=60*k,m=24*l,n='<abbr title="%{expanded}">%{abbr}</abbr>';d.parseDate=function(a){var c,d,i=a||"",j=i.toString();return(c=function(){var a;return g.test(j)?parseInt(j,10):(a=j.match(f))?Date.UTC(a[7],b.indexOf(h,a[1]),a[2],a[3],a[4],a[5]):(a=j.match(e))?Date.UTC(a[1],a[2]-1,a[3],a[4],a[5],a[6]):void 0}())?(d=new Date(c),!isNaN(d.getTime())&&d):!1},a(d)})}),provide("sandbox/frame",function(a){using("sandbox/baseframe","sandbox/minimal","util/env","util/promise","util/util","dom/delegate",function(b,c,d,e,f,g){function h(){var a,b;n={},k||(a=document.body.offsetHeight,b=document.body.offsetWidth,(a!=p||b!=o)&&(f.forEach(m,function(a){a.dispatchFrameResize(o,p)}),p=a,o=b))}function i(a){var b;return a.id?a.id:(b=a.getAttribute("data-twttr-id"))?b:(b="twttr-sandbox-"+l++,a.setAttribute("data-twttr-id",b),b)}function j(a,b){c.apply(this,[a,b]),this._resizeHandlers=[],m=f.filter(m,function(a){var b=a._frame.parentElement;return b||f.async(function(){g.removeDelegatesForWidget(a._frame.id)}),b}),m.push(this),this._win.addEventListener?this._win.addEventListener("resize",f.bind(function(){this.dispatchFrameResize()},this),!0):this._win.attachEvent("onresize",f.bind(function(){this.dispatchFrameResize(this._win.event)},this))}var k,l=0,m=[],n={},o=0,p=0;window.addEventListener?window.addEventListener("resize",h,!0):document.body.attachEvent("onresize",function(){h(window.event)}),j.prototype=new c,f.aug(j.prototype,{dispatchFrameResize:function(){var a=this._frame.parentNode,b=i(a),c=n[b];k=!0,this._resizeHandlers.length&&(c||(c=n[b]={w:this._frame.offsetWidth,h:this._frame.offsetHeight}),(this._frameWidth!=c.w||this._frameHeight!=c.h)&&(this._frameWidth=c.w,this._frameHeight=c.h,f.forEach(this._resizeHandlers,function(a){a(c.w,c.h)}),window.setTimeout(function(){n={}},50)))},appendStyleSheet:function(a){var b=this._doc.createElement("link");return b.type="text/css",b.rel="stylesheet",b.href=a,this.layout(f.bind(function(){return this._head.appendChild(b)},this))},appendCss:function(a){var b;return d.cspEnabled()?e.reject("CSP enabled; cannot embed inline styles."):(b=this._doc.createElement("style"),b.type="text/css",b.styleSheet?b.styleSheet.cssText=a:b.appendChild(this._doc.createTextNode(a)),this.layout(f.bind(function(){return this._head.appendChild(b)},this)))},style:function(a){return this.layout(f.bind(function(){f.forIn(a,f.bind(function(a,b){this._frame.style[a]=b},this))},this))},onresize:function(a){this._resizeHandlers.push(a)},width:function(a){return void 0!==a&&(this._frame.style.width=a+"px"),d.ios()?Math.min(this._frame.parentNode.offsetWidth,this._frame.offsetWidth):this._frame.offsetWidth},height:function(a){return void 0!==a&&(this._frame.height=a),this._frame.offsetHeight}}),j.createSandbox=function(a,c,d,e){var f=new b(a,c,d,e);return f.ready().then(function(a){return new j(a.frame,a.layout)})},a(j)})}),provide("dom/size",function(a){function b(a){return a&&1===a.nodeType?a.offsetWidth||b(a.parentNode):0}a({effectiveWidth:b})}),provide("rpc/postmessage_listener",function(a){using("dom/delegate","util/util","util/env","util/twitter","xd/json2",function(b,c,d,e){function f(a){var d=a.document;this.server=null,this.isTwitterFrame=e.isTwitterURL(d.location.href),b.on(a,"message",c.bind(this._onMessage,this))}var g=d.ie8()||d.ie9();f.prototype._onMessage=function(a){this.server&&(!this.isTwitterFrame||e.isTwitterURL(a.origin))&&this.server.receive(a.data,a.source).then(function(b){var c;b&&(c=g?JSON.stringify(b):b,a.source&&a.source.postMessage(c,"*"))})},f.prototype.attachTo=function(a){this.server=a},f.prototype.detach=function(){this.server=null},a(f)})}),provide("rpc/jsonrpc_server",function(a){using("util/util","util/promise","xd/json2",function(b,c){function d(){this.registry={}}function e(a){return b.isType("string",a)?JSON.parse(a):a}function f(a){var c,d,e;return b.isObject(a)?(c=a.jsonrpc===l,d=b.isType("string",a.method),e=!("id"in a)||g(a.id),c&&d&&e):!1}function g(a){var c,d,e;return c=b.isType("string",a),d=b.isType("number",a),e=null===a,c||d||e}function h(a){return b.isObject(a)&&!b.isType("function",a)}function i(a,b){return{jsonrpc:l,id:a,result:b}}function j(a,b){return{jsonrpc:l,id:g(a)?a:null,error:b}}function k(a){return c.every.apply(c,a).then(function(a){return a=b.filter(a,function(a){return void 0!==a}),a.length?a:void 0})}var l="2.0",m={code:-32700,message:"Parse error"},n={code:-32600,message:"Invalid Request"},o={code:-32602,message:"Invalid params"},p={code:-32601,message:"Method not found"},q={code:-32603,message:"Internal error"};d.prototype._invoke=function(a,d){var e,f,g;e=this.registry[a.method],f=a.params||[],f=b.isType("array",f)?f:[f];try{g=e.apply(d.source||null,f)}catch(h){g=c.reject(h.message)}return c.isThenable(g)?g:c.fulfill(g)},d.prototype._processRequest=function(a,b){function d(b){return i(a.id,b)}function e(){return j(a.id,q)}var g,k=!!a.id;return f(a)?g="params"in a&&!h(a.params)?c.fulfill(j(a.id,o)):this.registry[a.method]?this._invoke(a,{source:b}).then(d,e):c.fulfill(j(a.id,p)):(k=!0,g=c.fulfill(j(a.id,n))),k?g:c.fulfill()},d.prototype.attachListener=function(a){return a.attachTo(this),this},d.prototype.bind=function(a,b){return this.registry[a]=b,this},d.prototype.receive=function(a,d){var f,g,h;try{a=e(a)}catch(i){return c.fulfill(j(null,m))}return d=d||null,f=b.isType("array",a),g=f?a:[a],h=b.map(g,b.bind(function(a){return this._processRequest(a,d)},this)),f?k(h):h[0]},a(d)})}),provide("amplify/video_scribe_bridge",function(a){using("util/util","dom/get","tfw/util/tracking","rpc/jsonrpc_server","rpc/postmessage_listener",function(b,c,d,e,f){function g(a,b){return a&&a.getAttribute?a.getAttribute("data-"+b):void 0}function h(a){return{element:a.element||l,action:a.action||m}}function i(a,d){var e=c.ancestor(".cards-multimedia",d),f=c.ancestor(".tweet",d);return b.aug({item_type:k,id:g(f,"tweet-id"),card_name:g(e,"card-name"),publisher_id:g(e,"publisher-id"),content_id:g(e,"video-content-id")},a.itemData||{})}function j(a,b){var c=this;if(arguments.length<2)throw new Error("missing arguments");this.dnt=!!b,this.global=a,this.server=(new e).attachListener(new f(a)).bind("scribe",function(a){c.scribe(a,this)})}var k=0,l="amplify_player",m="undefined";j.prototype.findIframeByWindow=function(a){var b,c=this.global.document.getElementsByTagName("iframe"),d=c.length;for(b=0;d>b;b++)if(c[b].contentWindow==a)return c[b]},j.prototype.scribe=function(a,b){var c,e,f;a=a&&a.customScribe,c=this.findIframeByWindow(b),a&&c&&(e=h(a),f=i(a,c),d.addPixel2(e,f,!0,this.dnt))},a(j)})}),provide("tfw/util/assets",function(a){using("util/env",function(b){function c(a,c){var e,f=d[a];return e=b.retina()?"2x":b.ie6()||b.ie7()?"gif":"default",c&&(e+=".rtl"),f[e]}var d={"embed/timeline.css":{"default":"embed/timeline.3fb0c4c981cd3f8f8dfb6b0ab93d6a9e.default.css","2x":"embed/timeline.3fb0c4c981cd3f8f8dfb6b0ab93d6a9e.2x.css",gif:"embed/timeline.3fb0c4c981cd3f8f8dfb6b0ab93d6a9e.gif.css","default.rtl":"embed/timeline.3fb0c4c981cd3f8f8dfb6b0ab93d6a9e.default.rtl.css","2x.rtl":"embed/timeline.3fb0c4c981cd3f8f8dfb6b0ab93d6a9e.2x.rtl.css","gif.rtl":"embed/timeline.3fb0c4c981cd3f8f8dfb6b0ab93d6a9e.gif.rtl.css"}};a(c)})}),provide("tfw/widget/intent",function(a){using("tfw/widget/base","util/util","util/querystring","util/twitter","util/uri","util/promise",function(b,c,d,e,f,g){function h(a){var b=Math.round(u/2-r/2),c=0;t>s&&(c=Math.round(t/2-s/2)),window.open(a,void 0,[q,"width="+r,"height="+s,"left="+b,"top="+c].join(","))}function i(a,b){using("tfw/hub/client",function(c){c.openIntent(a,b)})}function j(a){var b=~location.host.indexOf("poptip.com")?"https://poptip.com":location.href,c="original_referer="+b;return[a,c].join(-1==a.indexOf("?")?"?":"&")}function k(a){var b,d,e;
if(a=a||window.event,b=a.target||a.srcElement,!(a.altKey||a.metaKey||a.shiftKey)){for(;b&&!~c.indexOf(["A","AREA"],b.nodeName);)b=b.parentNode;b&&b.href&&(d=b.href.match(p),d&&(e=j(b.href),e=e.replace(/^http[:]/,"https:"),e=e.replace(/^\/\//,"https://"),l(e,b),a.returnValue=!1,a.preventDefault&&a.preventDefault()))}}function l(a,b){if(e.isTwitterURL(a))if(twttr.events.hub&&b){var c=new m(o.generateId(),b);o.add(c),i(a,b),twttr.events.trigger("click",{target:b,region:"intent",type:"click",data:{}})}else h(a)}function m(a,b){this.id=a,this.element=this.srcEl=b}function n(a){this.srcEl=[],this.element=a}var o,p=/twitter\.com(\:\d{2,4})?\/intent\/(\w+)/,q="scrollbars=yes,resizable=yes,toolbar=no,location=yes",r=550,s=520,t=screen.height,u=screen.width;n.prototype=new b,c.aug(n.prototype,{render:function(){return o=this,window.twttr.__twitterIntentHandler||(document.addEventListener?document.addEventListener("click",k,!1):document.attachEvent&&document.attachEvent("onclick",k),window.twttr.__twitterIntentHandler=!0),g.fulfill(document.body)}}),n.open=l,a(n)})}),provide("tfw/widget/syndicatedbase",function(a){using("tfw/widget/base","tfw/widget/intent","tfw/util/assets","tfw/util/globals","tfw/util/media","tfw/util/tracking","amplify/video_scribe_bridge","dom/classname","dom/get","dom/delegate","dom/size","sandbox/frame","util/env","util/promise","util/twitter","util/typevalidator","util/util",function(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){function s(){v=t.VALID_COLOR.test(e.val("widgets:link-color"))&&RegExp.$1,x=t.VALID_COLOR.test(e.val("widgets:border-color"))&&RegExp.$1,w=e.val("widgets:theme")}function t(a){if(a){var c;this.readyPromise=new o(r.bind(function(a){this.readyResolver=a},this)),this.renderedPromise=new o(r.bind(function(a){this.renderResolver=a},this)),b.apply(this,[a]),c=this.params(),this.targetEl=this.srcEl&&this.srcEl.parentNode||c.targetEl||document.body,this.predefinedWidth=t.VALID_UNIT.test(c.width||this.attr("width"))&&RegExp.$1,this.layout(r.bind(function(){return this.containerWidth=l.effectiveWidth(this.targetEl)},this)).then(r.bind(function(a){var b=this.predefinedWidth||a||this.dimensions.DEFAULT_WIDTH;this.height=t.VALID_UNIT.test(c.height||this.attr("height"))&&RegExp.$1,this.width=Math.max(this.dimensions.MIN_WIDTH,Math.min(b,this.dimensions.DEFAULT_WIDTH))},this)),this.linkColor=t.VALID_COLOR.test(c.linkColor||this.dataAttr("link-color"))?RegExp.$1:v,this.borderColor=t.VALID_COLOR.test(c.borderColor||this.dataAttr("border-color"))?RegExp.$1:x,this.theme=c.theme||this.attr("data-theme")||w,this.theme=/(dark|light)/.test(this.theme)?this.theme:"",this.classAttr.push(n.touch()?"is-touch":"not-touch"),n.ie9()&&this.classAttr.push("ie9"),this.sandboxCreated=m.createSandbox({"class":this.renderedClassNames,id:this.id},{width:"1px",height:"0px",border:"none",position:"absolute",visibility:"hidden"},r.bind(function(a){this.srcEl?this.targetEl.insertBefore(a,this.srcEl):this.targetEl.appendChild(a)},this),this.layout).then(r.bind(function(a){this.setupSandbox(a),new h(a.element().contentWindow,this.dnt)},this))}}function u(a,b){return a+b}var v,w,x,y=[".customisable",".customisable:link",".customisable:visited",".customisable:hover",".customisable:focus",".customisable:active",".customisable-highlight:hover",".customisable-highlight:focus","a:hover .customisable-highlight","a:focus .customisable-highlight"],z=["a:hover .ic-mask","a:focus .ic-mask"],A=[".customisable-border"],B=[".timeline-header h1.summary",".timeline-header h1.summary a:link",".timeline-header h1.summary a:visited"],C={TWEET:0,RETWEET:10};t.prototype=new b,r.aug(t.prototype,{setupSandbox:function(a){this.sandbox=a,o.some(a.appendCss("body{display:none}"),a.setBaseTarget("_blank"),a.appendStyleSheet(twttr.widgets.config.assetUrl()+"/"+d("embed/timeline.css"))).then(r.bind(function(){this.readyResolver.fulfill(a)},this))},ready:function(){return this.readyPromise},rendered:function(){return this.renderedPromise},contentWidth:function(a){var b=this.dimensions,c=this.fullBleedPhoto?0:this.chromeless&&this.narrow?b.NARROW_MEDIA_PADDING_CL:this.chromeless?b.WIDE_MEDIA_PADDING_CL:this.narrow?b.NARROW_MEDIA_PADDING:b.WIDE_MEDIA_PADDING;return(a||this.width)-c},addSiteStyles:function(){var a=r.bind(function(a){return("dark"==this.theme?".thm-dark ":"")+a},this),b=[];return this.headingStyle&&b.push(r.map(B,a).join(",")+"{"+this.headingStyle+"}"),this.linkColor&&(b.push(r.map(y,a).join(",")+"{color:"+this.linkColor+"}"),b.push(r.map(z,a).join(",")+"{background-color:"+this.linkColor+"}")),this.borderColor&&b.push(r.map(A,a).concat("dark"==this.theme?[".thm-dark.customisable-border"]:[]).join(",")+"{border-color:"+this.borderColor+"}"),b.length?this.sandbox.appendCss(b.join("")):void 0},setNarrow:function(){var a=this.narrow;return this.narrow=this.width<this.dimensions.NARROW_WIDTH,a!=this.narrow?this.layout(r.bind(function(){return i.toggle(this.element,"var-narrow",this.narrow)},this)):o.fulfill(this.narrow)},bindIntentHandlers:function(){function a(a){var c=j.ancestor(".tweet",this,d),e=r.aug({},b.baseScribeData(),{item_ids:[],item_details:b.extractTweetScribeDetails(c)});r.forIn(e.item_details,function(a){e.item_ids.push(a)}),g.scribeInteraction(a,e,!0,b.dnt)}var b=this,d=this.element;k.delegate(d,"click","A",a),k.delegate(d,"click","BUTTON",a),k.delegate(d,"click",".profile",function(){b.addUrlParams(this)}),k.delegate(d,"click",".follow-button",function(a){var d;a.altKey||a.metaKey||a.shiftKey||n.ios()||n.android()||q.asBoolean(this.getAttribute("data-age-gate"))||(d=p.intentForFollowURL(this.href,!0),d&&(c.open(d,b.sandbox.element()),k.preventDefault(a)))}),k.delegate(d,"click",".web-intent",function(a){b.addUrlParams(this),a.altKey||a.metaKey||a.shiftKey||(c.open(this.href,b.sandbox.element()),k.preventDefault(a))})},baseScribeData:function(){return{}},extractTweetScribeDetails:function(a){var b,c,d={};return a?(b=a.getAttribute("data-tweet-id"),c=a.getAttribute("data-rendered-tweet-id")||b,c==b?d[c]={item_type:C.TWEET}:b&&(d[c]={item_type:C.RETWEET,target_type:C.TWEET,target_id:b}),d):d},constrainMedia:function(a,b){return f.constrainMedia(a||this.element,b||this.contentWidth(),this.fullBleedPhoto,this.layout)},collapseRegions:function(){r.forEach(j.all("collapsible-container",this.element),r.bind(function(a){var b,c,d=a.children,e=d.length&&a.offsetWidth,f=d.length&&r.map(d,function(a){return a.offsetWidth}),g=d.length;if(d.length)for(;g>0;){if(g--,b=r.reduce(f,u,0),!e||!b)return;if(e>b)return;c=d[g].getAttribute("data-collapsed-class"),c&&(i.add(this.element,c),f[g]=d[g].offsetWidth)}},this))}}),t.VALID_UNIT=/^([0-9]+)( ?px)?$/,t.VALID_COLOR=/^(#(?:[0-9a-f]{3}|[0-9a-f]{6}))$/i,s(),a(t)})}),provide("tfw/widget/timeline",function(a){using("tfw/widget/base","tfw/widget/syndicatedbase","util/datetime","util/promise","anim/transition","tfw/util/article","tfw/util/data","tfw/util/media","tfw/util/tracking","tfw/util/params","util/css","util/env","util/throttle","util/twitter","util/querystring","util/typevalidator","util/util","dom/delegate","dom/classname","dom/get",function(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){function v(a){if(a){var b,d,e,f,g,h,i,j;c.apply(this,[a]),b=this.params(),d=(b.chrome||this.dataAttr("chrome")||"").split(" "),this.preview=b.previewParams,this.widgetId=b.widgetId||this.dataAttr("widget-id"),this.instanceId=++N,this.cursors={maxPosition:0,minPosition:0},this.override=(f=b.screenName||this.dataAttr("screen-name"))||(g=b.userId||this.dataAttr("user-id"))?{overrideType:"user",overrideId:g,overrideName:f,withReplies:q.asBoolean(b.showReplies||this.dataAttr("show-replies"))?"true":"false"}:(f=b.favoritesScreenName||this.dataAttr("favorites-screen-name"))||(g=b.favoritesUserId||this.dataAttr("favorites-user-id"))?{overrideType:"favorites",overrideId:g,overrideName:f}:((f=b.listOwnerScreenName||this.dataAttr("list-owner-screen-name"))||(g=b.listOwnerId||this.dataAttr("list-owner-id")))&&((h=b.listId||this.dataAttr("list-id"))||(i=b.listSlug||this.dataAttr("list-slug")))?{overrideType:"list",overrideOwnerId:g,overrideOwnerName:f,overrideId:h,overrideName:i}:(j=b.customTimelineId||this.dataAttr("custom-timeline-id"))?{overrideType:"custom",overrideId:j}:{},this.tweetLimit=q.asInt(b.tweetLimit||this.dataAttr("tweet-limit")),this.staticTimeline=this.tweetLimit>0,d.length&&(e=~r.indexOf(d,"none"),this.chromeless=e||~r.indexOf(d,"transparent"),this.headerless=e||~r.indexOf(d,"noheader"),this.footerless=e||~r.indexOf(d,"nofooter"),this.borderless=e||~r.indexOf(d,"noborders"),this.noscrollbar=~r.indexOf(d,"noscrollbar")),this.headingStyle=l.sanitize(b.headingStyle||this.dataAttr("heading-style"),void 0,!0),this.classAttr.push("twitter-timeline-rendered"),this.ariaPolite=b.ariaPolite||this.dataAttr("aria-polite")}}var w={CLIENT_SIDE_USER:0,CLIENT_SIDE_APP:2},x="timeline",y="new-tweets-bar",z="timeline-header",A="timeline-footer",B="stream",C="h-feed",D="tweet",E="expanded",F="detail-expander",G="expand",H="permalink",I="twitter-follow-button",J="no-more-pane",K="pending-scroll-in",L="pending-new-tweet",M="pending-new-tweet-display",N=0;v.prototype=new c,r.aug(v.prototype,{renderedClassNames:"twitter-timeline twitter-timeline-rendered",dimensions:{DEFAULT_HEIGHT:"600",DEFAULT_WIDTH:"520",NARROW_WIDTH:"320",MIN_WIDTH:"180",MIN_HEIGHT:"200",WIDE_MEDIA_PADDING:81,NARROW_MEDIA_PADDING:16,WIDE_MEDIA_PADDING_CL:60,NARROW_MEDIA_PADDING_CL:12},create:function(a){var c,d,f,g,h=this.sandbox.createElement("div"),k=[];return h.innerHTML=a.body,(c=h.children[0]||!1)?(this.reconfigure(a.config),this.discardStaticOverflow(c),this.sandbox.setTitle(c.getAttribute("data-iframe-title")||"Timeline"),i.retinize(c),this.constrainMedia(c),this.searchQuery=c.getAttribute("data-search-query"),this.profileId=c.getAttribute("data-profile-id"),this.timelineType=c.getAttribute("data-timeline-type"),g=this.getTweetDetails(u.one(C,h)),r.forIn(g,function(a){k.push(a)}),f=this.baseScribeData(),f.item_ids=k,f.item_details=g,this.timelineType&&j.enqueue({page:this.timelineType+"_timeline",component:"timeline",element:"initial",action:k.length?"results":"no_results"},f,!0,this.dnt),j.enqueue({page:"timeline",component:"timeline",element:"initial",action:k.length?"results":"no_results"},f,!0,this.dnt),j.enqueueAudienceImpression({page:"timeline"},this.dnt),j.flush(),"assertive"==this.ariaPolite&&(d=u.one(y,c,"DIV"),d.setAttribute("aria-polite","assertive")),c.id=this.id,c.className+=" "+this.classAttr.join(" "),c.lang=this.lang,this.augmentWidgets(c),this.ready().then(r.bind(function(a){a.appendChild(c).then(r.bind(function(){this.renderResolver.fulfill(this.sandbox)},this)),a.style({cssText:"",border:"none",maxWidth:"100%",minWidth:this.dimensions.MIN_WIDTH+"px"}),this.layout(r.bind(function(){this.srcEl&&this.srcEl.parentNode&&this.srcEl.parentNode.removeChild(this.srcEl),this.predefinedWidth=this.width,this.predefinedHeight=this.height,this.width=a.width(this.width),this.height=a.height(this.height)},this)).then(r.bind(function(){var c=[];this.width<this.predefinedWidth&&c.push(this.layout(r.bind(function(){this.width=a.width(this.predefinedWidth)},this))),this.height<this.predefinedHeight&&c.push(this.layout(r.bind(function(){this.height=a.height(this.predefinedHeight),this.recalculateStreamHeight()},this))),c.length&&b.doLayoutAsync(),c.push(e.fulfill()),e.every.apply(null,c).then(r.bind(function(){this.setNarrow(),this.sandbox.onresize(r.bind(this.handleResize,this)),this.completeResolver.fulfill(this.sandbox.element())},this))},this))},this)),c):void 0},render:function(a,c){return this.preview||this.widgetId?(this.rendered().then(this.staticTimeline?r.bind(function(a){this.layout(r.bind(function(){a.height(this.height=this.element.offsetHeight)},this)),b.doLayoutAsync()},this):r.bind(function(){this.recalculateStreamHeight(),b.doLayoutAsync()},this)),this.preview?this.getPreviewTimeline():this.getTimeline(),c&&this.completed().then(c),this.completed()):(this.completeResolver.reject(400),this.completed())},getPreviewTimeline:function(){h.timelinePreview({success:r.bind(function(a){this.ready().then(r.bind(function(){this.element=this.create(a),this.readTranslations(),this.bindInteractions(),this.updateCursors(a.headers,{initial:!0}),b.doLayoutAsync()},this))},this),error:r.bind(function(a){return a&&a.headers?void this.completeResolver.reject(a.headers.status):void this.completeResolver.fulfill(this.srcEl)},this),params:this.preview})},getTimeline:function(){j.initPostLogging(),h.timeline(r.aug({id:this.widgetId,instanceId:this.instanceId,dnt:this.dnt,lang:this.lang,success:r.bind(function(a){this.ready().then(r.bind(function(){this.element=this.create(a),this.readTranslations(),this.bindInteractions(),this.updateTimeStamps(),this.updateCursors(a.headers,{initial:!0}),a.headers.xPolling&&/\d/.test(a.headers.xPolling)&&(this.pollInterval=1e3*a.headers.xPolling),this.staticTimeline||this.schedulePolling(),b.doLayoutAsync()},this))},this),error:r.bind(function(a){return a&&a.headers?void this.completeResolver.reject(a.headers.status):void this.completeResolver.fulfill(this.srcEl)},this)},this.override))},reconfigure:function(a){this.lang=a.lang,this.theme||(this.theme=a.theme),"dark"==this.theme&&this.classAttr.push("thm-dark"),this.chromeless&&this.classAttr.push("var-chromeless"),this.borderless&&this.classAttr.push("var-borderless"),this.headerless&&this.classAttr.push("var-headerless"),this.footerless&&this.classAttr.push("var-footerless"),this.staticTimeline&&this.classAttr.push("var-static"),!this.linkColor&&a.linkColor&&c.VALID_COLOR.test(a.linkColor)&&(this.linkColor=RegExp.$1),!this.height&&c.VALID_UNIT.test(a.height)&&(this.height=RegExp.$1),this.height=Math.max(this.dimensions.MIN_HEIGHT,this.height?this.height:this.dimensions.DEFAULT_HEIGHT),this.preview&&this.classAttr.push("var-preview"),this.narrow=this.width<=this.dimensions.NARROW_WIDTH,this.narrow&&this.classAttr.push("var-narrow"),this.addSiteStyles()},getTweetDetails:function(a){var b,c={};return b=a&&a.children||[],r.forEach(b,r.bind(function(a){r.aug(c,this.extractTweetScribeDetails(a))},this)),c},baseScribeData:function(){return{widget_id:this.widgetId,widget_origin:g.url(),message:this.partner,query:this.searchQuery,profile_id:this.profileId}},bindInteractions:function(){var a=this,b=this.element,c=!0;this.bindIntentHandlers(),s.delegate(b,"click",".load-tweets",function(b){c&&(c=!1,a.forceLoad(),s.stop(b))}),s.delegate(b,"click",".display-sensitive-image",function(c){a.showNSFW(u.ancestor("."+D,this,b)),s.stop(c)}),s.delegate(b,"mouseover","."+x,function(){a.mouseOver=!0}),s.delegate(b,"mouseout","."+x,function(){a.mouseOver=!1}),s.delegate(b,"mouseover","."+y,function(){a.mouseOverNotifier=!0}),s.delegate(b,"mouseout","."+y,function(){a.mouseOverNotifier=!1,window.setTimeout(function(){a.hideNewTweetNotifier()},3e3)}),this.staticTimeline||(s.delegate(b,"click","."+G,function(c){c.altKey||c.metaKey||c.shiftKey||(a.toggleExpando(u.ancestor("."+D,this,b)),s.stop(c))}),s.delegate(b,"click","A",function(a){s.stopPropagation(a)}),s.delegate(b,"click",".with-expansion",function(b){a.toggleExpando(this),s.stop(b)}),s.delegate(b,"click",".load-more",function(){a.loadMore()}),s.delegate(b,"click","."+y,function(){a.scrollToTop(),a.hideNewTweetNotifier(!0)}))},scrollToTop:function(){var a=u.one(B,this.element,"DIV");a.scrollTop=0,a.focus()},update:function(){var a=this,b=u.one(C,this.element),c=b&&b.children[0],d=c&&c.getAttribute("data-tweet-id");this.updateTimeStamps(),this.requestTweets(d,!0,function(b){b.childNodes.length>0&&a.insertNewTweets(b)})},loadMore:function(){var a=this,b=u.all(D,this.element,"LI").pop(),c=b&&b.getAttribute("data-tweet-id");this.requestTweets(c,!1,function(b){var d=u.one(J,a.element,"P"),e=b.childNodes[0];return d.style.cssText="",e&&e.getAttribute("data-tweet-id")==c&&b.removeChild(e),b.childNodes.length>0?void a.appendTweets(b):(t.add(a.element,"no-more"),void d.focus())})},forceLoad:function(){var a=this,b=!!u.all(C,this.element,"OL").length;this.requestTweets(1,!0,function(c){c.childNodes.length&&(a[b?"insertNewTweets":"appendTweets"](c),t.add(a.element,"has-tweets"))})},schedulePolling:function(a){var b=this;null!==this.pollInterval&&(a=twttr.widgets.poll||a||this.pollInterval||1e4,a>-1&&window.setTimeout(function(){this.isUpdating||b.update(),b.schedulePolling()},a))},updateCursors:function(a,b){(b||{}).initial?(this.cursors.maxPosition=a.maxPosition,this.cursors.minPosition=a.minPosition):(b||{}).newer?this.cursors.maxPosition=a.maxPosition||this.cursors.maxPosition:this.cursors.minPosition=a.minPosition||this.cursors.minPosition},requestTweets:function(a,b,c){var d=this,e={id:this.widgetId,instanceId:this.instanceId,screenName:this.widgetScreenName,userId:this.widgetUserId,withReplies:this.widgetShowReplies,dnt:this.dnt,lang:this.lang};b&&this.cursors.maxPosition?e.minPosition=this.cursors.maxPosition:!b&&this.cursors.minPosition?e.maxPosition=this.cursors.minPosition:b?e.sinceId=a:e.maxId=a,e.complete=function(){this.isUpdating=!1},e.error=function(a){if(a&&a.headers){if("404"==a.headers.status)return void(d.pollInterval=null);if("503"==a.headers.status)return void(d.pollInterval*=1.5)}},e.success=function(a){var e,f,g=d.sandbox.createDocumentFragment(),h=d.sandbox.createElement("ol"),k=[];if(d.updateCursors(a.headers,{newer:b}),a&&a.headers&&a.headers.xPolling&&/\d+/.test(a.headers.xPolling)&&(d.pollInterval=1e3*a.headers.xPolling),a&&void 0!==a.body){if(h.innerHTML=a.body,h.children[0]&&"LI"!=h.children[0].tagName)return;for(f=d.getTweetDetails(h),r.forIn(f,function(a){k.push(a)}),k.length&&(e=d.baseScribeData(),e.item_ids=k,e.item_details=f,e.event_initiator=b?w.CLIENT_SIDE_APP:w.CLIENT_SIDE_USER,this.timelineType&&j.enqueue({page:this.timelineType+"_timeline",component:"timeline",element:"initial",action:k.length?"results":"no_results"},e,!0,this.dnt),j.enqueue({page:"timeline",component:"timeline",element:b?"newer":"older",action:"results"},e,!0,d.dnt),j.flush()),i.retinize(h),d.constrainMedia(h);h.children[0];)g.appendChild(h.children[0]);c(g)}},h.timelinePoll(r.aug(e,this.override))},insertNewTweets:function(a){var b,c=this,d=u.one(B,this.element,"DIV"),e=u.one(C,d,"OL"),g=e.offsetHeight;return e.insertBefore(a,e.firstChild),b=e.offsetHeight-g,twttr.events.trigger("timelineUpdated",{target:this.sandbox.element(),region:"newer"}),d.scrollTop>40||this.mouseIsOver()?(d.scrollTop=d.scrollTop+b,this.updateTimeStamps(),void this.showNewTweetNotifier()):(t.remove(this.element,K),e.style.cssText="margin-top: -"+b+"px",window.setTimeout(function(){d.scrollTop=0,t.add(c.element,K),m.cssTransitions()?e.style.cssText="":f.animate(function(a){e.style.cssText=b>a?"margin-top: -"+(b-a)+"px":""},b,500,f.easeOut)},500),this.updateTimeStamps(),void("custom"!=this.timelineType&&this.gcTweets(50)))},appendTweets:function(a){var b=u.one(B,this.element,"DIV"),c=u.one(C,b,"OL");c.appendChild(a),this.updateTimeStamps(),twttr.events.trigger("timelineUpdated",{target:this.sandbox.element(),region:"older"})},gcTweets:function(a){var b,c=u.one(C,this.element,"OL"),d=c.children.length;for(a=a||50;d>a&&(b=c.children[d-1]);d--)c.removeChild(b)},showNewTweetNotifier:function(){var a=this,b=u.one(y,this.element,"DIV"),c=b.children[0];b.style.cssText="",b.removeChild(c),b.appendChild(c),t.add(this.element,M),window.setTimeout(function(){t.add(a.element,L)},10),this.newNoticeDisplayTime=+new Date,window.setTimeout(function(){a.hideNewTweetNotifier()},5e3)},hideNewTweetNotifier:function(a){var b=this;(a||!this.mouseOverNotifier)&&(t.remove(this.element,L),window.setTimeout(function(){t.remove(b.element,M)},500))},augmentWidgets:function(a){var b=u.one(I,a,"A");b&&(b.setAttribute("data-related",this.related),b.setAttribute("data-partner",this.partner),b.setAttribute("data-dnt",this.dnt),b.setAttribute("data-search-query",this.searchQuery),b.setAttribute("data-profile-id",this.profileId),this.width<250&&b.setAttribute("data-show-screen-name","false"),twttr.widgets.load(b.parentNode))},discardStaticOverflow:function(a){var b,c=u.one(C,a,"OL");if(this.staticTimeline)for(this.height=0;b=c.children[this.tweetLimit];)c.removeChild(b)},hideStreamScrollBar:function(){var a,b=u.one(B,this.element,"DIV"),c=u.one(C,this.element,"OL");b.style.width="",a=this.element.offsetWidth-c.offsetWidth,a>0&&(b.style.width=this.element.offsetWidth+a+"px")},readTranslations:function(){var a=this.element,b="data-dt-";this.datetime=new d(r.compact({phrases:{now:a.getAttribute(b+"now"),s:a.getAttribute(b+"s"),m:a.getAttribute(b+"m"),h:a.getAttribute(b+"h"),second:a.getAttribute(b+"second"),seconds:a.getAttribute(b+"seconds"),minute:a.getAttribute(b+"minute"),minutes:a.getAttribute(b+"minutes"),hour:a.getAttribute(b+"hour"),hours:a.getAttribute(b+"hours")},months:a.getAttribute(b+"months").split("|"),formats:{abbr:a.getAttribute(b+"abbr"),shortdate:a.getAttribute(b+"short"),longdate:a.getAttribute(b+"long")}}))},updateTimeStamps:function(){for(var a,b,c,d,e=u.all(H,this.element,"A"),f=0;a=e[f];f++)c=a.getAttribute("data-datetime"),d=c&&this.datetime.timeAgo(c,this.i18n),b=a.getElementsByTagName("TIME")[0],d&&(b&&b.innerHTML?b.innerHTML=d:a.innerHTML=d)},mouseIsOver:function(){return this.mouseOver},addUrlParams:function(a){var b=this,c={tw_w:this.widgetId,related:this.related,partner:this.partner,query:this.searchQuery,profile_id:this.profileId,original_referer:g.url(),tw_p:"embeddedtimeline"};return this.addUrlParams=k(c,function(a){var c=u.ancestor("."+D,a,b.element);return c&&{tw_i:c.getAttribute("data-tweet-id")}}),this.addUrlParams(a)},showNSFW:function(a){var b,c,d,e,f,g,h=u.one("nsfw",a,"DIV"),j=0;h&&(c=i.scaleDimensions(h.getAttribute("data-width"),h.getAttribute("data-height"),this.contentWidth(),h.getAttribute("data-height")),b=!!(e=h.getAttribute("data-player")),b?f=this.sandbox.createElement("iframe"):(f=this.sandbox.createElement("img"),e=h.getAttribute(m.retina()?"data-image-2x":"data-image"),f.alt=h.getAttribute("data-alt"),g=this.sandbox.createElement("a"),g.href=h.getAttribute("data-href"),g.appendChild(f)),f.title=h.getAttribute("data-title"),f.src=e,f.width=c.width,f.height=c.height,d=u.ancestor("."+F,h,a),j=c.height-h.offsetHeight,h.parentNode.replaceChild(b?f:g,h),d.style.cssText="height:"+(d.offsetHeight+j)+"px")},toggleExpando:function(a){var c,d,e=u.one(F,a,"DIV"),f=e&&e.children[0],g=f&&f.getAttribute("data-expanded-media"),h=0,j=u.one(G,a,"A"),k=j&&j.getElementsByTagName("B")[0],l=k&&(k.innerText||k.textContent);if(k){if(this.layout(function(){k.innerHTML=j.getAttribute("data-toggled-text"),j.setAttribute("data-toggled-text",l)}),t.present(a,E))return this.layout(function(){t.remove(a,E)}),e?(this.layout(function(){e.style.cssText="",f.innerHTML=""}),void b.doLayout()):void b.doLayout();g&&(c=this.sandbox.createElement("DIV"),c.innerHTML=g,i.retinize(c),h=this.constrainMedia(c),this.layout(function(){f.appendChild(c)})),e&&this.layout(function(){d=Math.max(f.offsetHeight,h),e.style.cssText="height:"+d+"px"}),this.layout(function(){t.add(a,E)}),b.doLayout()}},recalculateStreamHeight:function(a){var b=u.one(z,this.element,"DIV"),c=u.one(A,this.element,"DIV"),d=u.one(B,this.element,"DIV");this.layout(r.bind(function(){var e=b.offsetHeight+(c?c.offsetHeight:0),f=a||this.sandbox.height();d.style.cssText="height:"+(f-e-2)+"px",this.noscrollbar&&this.hideStreamScrollBar()},this))},handleResize:function(a,c){var d=Math.min(this.dimensions.DEFAULT_WIDTH,Math.max(this.dimensions.MIN_WIDTH,Math.min(this.predefinedWidth||this.dimensions.DEFAULT_WIDTH,a)));(d!=this.width||c!=this.height)&&(this.width=d,this.height=c,this.setNarrow(),this.constrainMedia(this.element,this.contentWidth(d)),this.staticTimeline?this.layout(r.bind(function(){this.height=this.element.offsetHeight,this.sandbox.height(this.height),twttr.events.trigger("resize",{target:this.sandbox.element()})},this)):(this.recalculateStreamHeight(c),twttr.events.trigger("resize",{target:this.sandbox.element()})),b.doLayoutAsync())}}),a(v)})}),provide("tfw/widget/embed",function(a){using("tfw/widget/base","tfw/widget/syndicatedbase","util/datetime","tfw/util/params","dom/classname","dom/get","util/env","util/promise","util/util","util/throttle","util/twitter","tfw/util/article","tfw/util/data","tfw/util/tracking","tfw/util/media",function(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){function q(a,b,c,d){var e=g.one("subject",a,"BLOCKQUOTE"),f=g.one("reply",a,"BLOCKQUOTE"),h=e&&e.getAttribute("data-tweet-id"),i=f&&f.getAttribute("data-tweet-id"),k={},l={};h&&(k[h]={item_type:0},o.enqueue({page:"tweet",section:"subject",component:"tweet",action:"results"},j.aug({},b,{item_ids:[h],item_details:k}),!0,d),i&&(l[i]={item_type:0},o.enqueue({page:"tweet",section:"conversation",component:"tweet",action:"results"},j.aug({},b,{item_ids:[i],item_details:l,associations:{4:{association_id:h,association_type:4}}}),!0,d),o.enqueueAudienceImpression({page:"tweet"},d)))}function r(a,b,c){var d={};a&&(d[a]={item_type:0},o.enqueue({page:"tweet",section:"subject",component:"rawembedcode",action:"no_results"},{widget_origin:m.url(),widget_frame:m.frameUrl(),message:b,item_ids:[a],item_details:d},!0,c),o.enqueueAudienceImpression({page:"tweet"},c))}function s(a,b,c,d){w[a]=w[a]||[],w[a].push({s:c,f:d,lang:b})}function t(){y.length&&twttr.widgets.load(y)}function u(a){if(a){var b,d,e;c.apply(this,[a]),b=this.params(),d=this.srcEl&&this.srcEl.getElementsByTagName("A"),e=d&&d[d.length-1],this.hideThread="none"==(b.conversation||this.dataAttr("conversation"))||~j.indexOf(this.classAttr,"tw-hide-thread"),this.hideCard="hidden"==(b.cards||this.dataAttr("cards"))||~j.indexOf(this.classAttr,"tw-hide-media"),"left"==(b.align||this.attr("align"))||~j.indexOf(this.classAttr,"tw-align-left")?this.align="left":"right"==(b.align||this.attr("align"))||~j.indexOf(this.classAttr,"tw-align-right")?this.align="right":("center"==(b.align||this.attr("align"))||~j.indexOf(this.classAttr,"tw-align-center"))&&(this.align="center",this.containerWidth>this.dimensions.MIN_WIDTH*(1/.7)&&this.width>.7*this.containerWidth&&(this.width=.7*this.containerWidth)),this.narrow=b.narrow||this.width<=this.dimensions.NARROW_WIDTH,this.narrow&&this.classAttr.push("var-narrow"),this.tweetId=b.tweetId||e&&l.status(e.href)}}var v="tweetembed",w={},x=[],y=[];u.prototype=new c,j.aug(u.prototype,{renderedClassNames:"twitter-tweet twitter-tweet-rendered",dimensions:{DEFAULT_HEIGHT:"0",DEFAULT_WIDTH:"500",NARROW_WIDTH:"350",MIN_WIDTH:"220",MIN_HEIGHT:"0",WIDE_MEDIA_PADDING:32,NARROW_MEDIA_PADDING:32},create:function(a){var b,c,d=this.sandbox.createElement("div");return d.innerHTML=a,(b=d.children[0]||!1)?("dark"==this.theme&&this.classAttr.push("thm-dark"),this.linkColor&&this.addSiteStyles(),f.present(b,"media-forward")&&(this.fullBleedPhoto=!0),this.augmentWidgets(b),p.retinize(b),b.id=this.id,b.className+=" "+this.classAttr.join(" "),b.lang=this.lang,this.sandbox.setTitle(b.getAttribute("data-iframe-title")||"Tweet"),this.sandbox.appendChild(b).then(j.bind(function(){this.renderResolver.fulfill(this.sandbox)},this)),this.sandbox.style({cssText:"",display:"block",maxWidth:"99%",minWidth:this.dimensions.MIN_WIDTH+"px",padding:"0",borderRadius:"5px",margin:"10px 0",border:"#ddd 1px solid",borderTopColor:"#eee",borderBottomColor:"#bbb",boxShadow:"0 1px 3px rgba(0,0,0,0.15)",position:"absolute",visibility:"hidden"}),c=this.layout(j.bind(function(){this.predefinedWidth=this.width,this.width=this.sandbox.width(this.width),this.collapseRegions()},this),"Insert Sandbox"),c.then(j.bind(function(){this.constrainMedia(b,this.contentWidth(this.width)),this.setNarrow().then(j.bind(function(){this.layout(j.bind(function(){this.completeResolver.fulfill(this.sandbox.element())},this))},this))},this)),q(b,this.baseScribeData(),this.partner,this.dnt),b):void 0},render:function(a,c){var d="",e=this.tweetId;return e?(this.hideCard&&(d+="c"),this.hideThread&&(d+="t"),d&&(e+="-"+d),this.rendered().then(j.bind(function(a){this.srcEl&&this.srcEl.parentNode&&this.layout(j.bind(function(){this.srcEl&&this.srcEl.parentNode&&this.srcEl.parentNode.removeChild(this.srcEl)},this),"Remove Embed Code"),"center"==this.align?a.style({margin:"7px auto",cssFloat:"none"}):this.align&&(this.width==this.dimensions.DEFAULT_WIDTH&&(this.predefinedWidth=this.width=this.dimensions.NARROW_WIDTH),a.style({cssFloat:this.align})),this.layout(j.bind(function(){this.height=this.sandbox.height(this.element.offsetHeight)},this)).then(j.bind(function(){return b.doLayoutAsync(),this.layout(j.bind(function(){this.height=this.sandbox.height(this.element.offsetHeight)},this))},this)).then(j.bind(function(){a.onresize(j.bind(this.handleResize,this))},this)),a.style({position:"static",visibility:"visible"}),b.doLayoutAsync()},this)),s(e,this.lang,j.bind(function(a){this.ready().then(j.bind(function(){this.element=this.create(a),this.readTimestampTranslations(),this.updateTimeStamps(),this.bindIntentHandlers(),b.doLayoutAsync()},this))},this),j.bind(function(){r(this.tweetId,this.partner,this.dnt),this.completeResolver.fulfill(this.srcEl)},this)),x.push(this.completed()),c&&this.completed().then(c),this.completed()):(this.completeResolver.fulfill(this.srcEl),this.completed())},augmentWidgets:function(a){var b=g.one("twitter-follow-button",a,"A");b&&(b.setAttribute("data-related",this.related),b.setAttribute("data-partner",this.partner),b.setAttribute("data-dnt",this.dnt),b.setAttribute("data-show-screen-name","false"),y.push(b.parentNode))},addUrlParams:function(a){var b=this,c={related:this.related,partner:this.partner,original_referer:m.url(),tw_p:v};return this.addUrlParams=e(c,function(a){var c=g.ancestor(".tweet",a,b.element);return{tw_i:c.getAttribute("data-tweet-id")}}),this.addUrlParams(a)},baseScribeData:function(){return{widget_origin:m.url(),widget_frame:m.frameUrl(),message:this.partner}},handleResize:function(a){a!=this.width&&(this.width=a,this.setNarrow(),this.constrainMedia(this.element,this.contentWidth(a)),this.collapseRegions(),this.layout(j.bind(function(){this.height=this.sandbox.height(this.element.offsetHeight),twttr.events.trigger("resize",{target:this.sandbox.element()})},this)),b.doLayoutAsync())},readTimestampTranslations:function(){var a=this.element,b="data-dt-",c=a.getAttribute(b+"months")||"";this.datetime=new d(j.compact({phrases:{AM:a.getAttribute(b+"am"),PM:a.getAttribute(b+"pm")},months:c.split("|"),formats:{full:a.getAttribute(b+"full")}}))},updateTimeStamps:function(){var a=g.one("long-permalink",this.element,"A"),c=a.getAttribute("data-datetime"),d=c&&this.datetime.localTimeStamp(c),e=a.getElementsByTagName("TIME")[0];d&&(this.layout(function(){return e&&e.innerHTML?void(e.innerHTML=d):void(a.innerHTML=d)},"Update Timestamp"),b.doLayoutAsync())}}),u.fetchAndRender=function(){var a,c,d=w,e=[];if(w={},d.keys)e=d.keys();else for(a in d)d.hasOwnProperty(a)&&e.push(a);e.length&&(o.initPostLogging(),c=d[e[0]][0].lang,n.tweets({ids:e.sort(),lang:c,complete:function(a){j.forIn(a,function(a,b){var c=d[a];j.forEach(c,function(a){a.s&&a.s.call(this,b)}),delete d[a]}),b.doLayout(),j.forIn(d,function(a,b){j.forEach(b,function(b){b.f&&b.f.call(this,a)})}),b.doLayout()}}),i.every.apply(null,x).then(function(){t(),o.flush()}),x=[])},b.afterLoad(u.fetchAndRender),a(u)})}),provide("dom/textsize",function(a){function b(a,b,c){for(var d,e=[],f=0;d=c[f];f++)e.push(d[0]),e.push(d[1]);return a+b+e.join(":")}function c(a){var b=a||"";return b.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}var d={};a(function(a,e,f){var g,h=document.createElement("span"),i={},j="",k=0,l=0,m=[];if(f=f||[],e=e||"",j=b(a,e,f),d[j])return d[j];h.className=e+" twitter-measurement";try{for(;g=f[k];k++)h.style[g[0]]=g[1]}catch(n){for(;g=f[l];l++)m.push(c(g[0])+":"+g[1]);h.setAttribute("style",m.join(";")+";")}return h.innerHTML=a,document.body.appendChild(h),i.width=h.clientWidth||h.offsetWidth,i.height=h.clientHeight||h.offsetHeight,document.body.removeChild(h),h=null,d[j]=i})}),provide("tfw/widget/follow",function(a){using("util/util","tfw/widget/base","util/querystring","util/uri","util/twitter","util/promise","dom/textsize",function(b,c,d,e,f,g,h){function i(a){if(a){var b,d,e,g;
c.apply(this,[a]),b=this.params(),d=b.size||this.dataAttr("size"),e=b.showScreenName||this.dataAttr("show-screen-name"),g=b.count||this.dataAttr("count"),this.classAttr.push("twitter-follow-button"),this.showScreenName="false"!=e,this.showCount=!(b.showCount===!1||"false"==this.dataAttr("show-count")),"none"==g&&(this.showCount=!1),this.explicitWidth=b.width||this.dataAttr("width")||"",this.screenName=b.screen_name||b.screenName||f.screenName(this.attr("href")),this.preview=b.preview||this.dataAttr("preview")||"",this.align=b.align||this.dataAttr("align")||"",this.size="large"==d?"l":"m"}}i.prototype=new c,b.aug(i.prototype,{iframeSource:"/widgets/follow_button.b44c7db4edf962ad9e7d1d791040bf60.{{lang}}.html",widgetUrlParams:function(){return b.compact({screen_name:this.screenName,lang:this.lang,show_count:this.showCount,show_screen_name:this.showScreenName,align:this.align,id:this.id,preview:this.preview,size:this.size,partner:this.partner,dnt:this.dnt,_:+new Date})},width:function(){if(this.calculatedWidth)return this.calculatedWidth;if(this.explicitWidth)return this.explicitWidth;var a,c,d={cnt:13,btn:24,xlcnt:22,xlbtn:38},e=this.showScreenName?"Follow %{screen_name}":"Follow",f=this._(e,{screen_name:"@"+this.screenName}),g=this._(~b.indexOf(["ja","ko"],this.lang)?"10k unit":"M"),i=this._("%{followers_count} followers",{followers_count:"88888"+g}),j=0,k=0,l=this.styles.base;return"l"==this.size?(l=l.concat(this.styles.large),a=d.xlbtn,c=d.xlcnt):(a=d.btn,c=d.cnt),this.showCount&&(k=h(i,"",l).width+c),j=h(f,"",l.concat(this.styles.button)).width+a,this.calculatedWidth=j+k},render:function(a,c){if(!this.screenName)return g.reject("Missing Screen Name").then(c);var d=this.makeIframeSource(),e=this.create(d,this.dimensions(),{title:this._("Twitter Follow Button")}).then(b.bind(function(a){return this.element=a},this));return c&&e.then(c),e}}),a(i)})}),provide("tfw/widget/tweetbutton",function(a){using("tfw/widget/base","tfw/util/globals","util/util","util/querystring","util/uri","util/twitter","util/typevalidator","dom/textsize",function(b,c,d,e,f,g,h,i){function j(a){b.apply(this,[a]);var e=this.params(),h=e.count||this.dataAttr("count"),i=e.size||this.dataAttr("size"),j=f.getScreenNameFromPage(),o=""+(e.shareWithRetweet||this.dataAttr("share-with-retweet")||c.val("share-with-retweet"));this.classAttr.push("twitter-tweet-button"),"hashtag"==e.type||~d.indexOf(this.classAttr,"twitter-hashtag-button")?(this.type="hashtag",this.classAttr.push("twitter-hashtag-button")):"mention"==e.type||~d.indexOf(this.classAttr,"twitter-mention-button")?(this.type="mention",this.classAttr.push("twitter-mention-button")):this.classAttr.push("twitter-share-button"),this.text=e.text||this.dataAttr("text"),this.text&&/\+/.test(this.text)&&!/ /.test(this.text)&&(this.text=this.text.replace(/\+/g," ")),this.counturl=e.counturl||this.dataAttr("counturl"),this.searchlink=e.searchlink||this.dataAttr("searchlink"),this.button_hashtag=g.hashTag(e.button_hashtag||e.hashtag||this.dataAttr("button-hashtag"),!1),this.size="large"==i?"l":"m",this.align=e.align||this.dataAttr("align")||"",this.via=e.via||this.dataAttr("via"),this.hashtags=e.hashtags||this.dataAttr("hashtags"),this.screen_name=g.screenName(e.screen_name||e.screenName||this.dataAttr("button-screen-name")),this.url=e.url||this.dataAttr("url"),this.type?(this.count="none",this.shareWithRetweet="never",j&&(this.related=this.related?j+","+this.related:j)):(this.text=this.text||k,this.url=this.url||f.getCanonicalURL()||l,this.count=~d.indexOf(m,h)?h:"horizontal",this.count="vertical"==this.count&&"l"==this.size?"none":this.count,this.via=this.via||j,o&&~d.indexOf(n,o)&&(this.shareWithRetweet=o.replace("-","_")))}var k=document.title,l=location.href,m=["vertical","horizontal","none"],n=[,"never","publisher-first","publisher-only","author-first","author-only"];j.prototype=new b,d.aug(j.prototype,{iframeSource:"/widgets/tweet_button.2df3b13213b70e6d91180bf64c17db20.{{lang}}.html",widgetUrlParams:function(){return d.compact({text:this.text,url:this.url,via:this.via,related:this.related,count:this.count,lang:this.lang,counturl:this.counturl,searchlink:this.searchlink,placeid:this.placeid,original_referer:location.href,id:this.id,size:this.size,type:this.type,screen_name:this.screen_name,share_with_retweet:this.shareWithRetweet,button_hashtag:this.button_hashtag,hashtags:this.hashtags,align:this.align,partner:this.partner,dnt:this.dnt,_:+new Date})},height:function(){return"vertical"==this.count?62:"m"==this.size?20:28},width:function(){var a={ver:8,cnt:14,btn:24,xlcnt:18,xlbtn:38},b="vertical"==this.count,c="hashtag"==this.type&&this.button_hashtag?"Tweet %{hashtag}":"mention"==this.type&&this.screen_name?"Tweet to %{name}":"Tweet",e=this._(c,{name:"@"+this.screen_name,hashtag:"#"+this.button_hashtag}),f=this._("K"),g=this._("100K+"),h=(b?"8888":"88888")+f,j=0,k=0,l=0,m=0,n=this.styles.base,o=n;return~d.indexOf(["ja","ko"],this.lang)?h+=this._("10k unit"):h=h.length>g.length?h:g,b?(o=n.concat(this.styles.vbubble),m=a.ver,l=a.btn):"l"==this.size?(n=o=n.concat(this.styles.large),l=a.xlbtn,m=a.xlcnt):(l=a.btn,m=a.cnt),"none"!=this.count&&(k=i(h,"",o).width+m),j=i(e,"",n.concat(this.styles.button)).width+l,b?j>k?j:k:this.calculatedWidth=j+k},render:function(a,b){var c,e=this.makeIframeSource();return this.count&&this.classAttr.push("twitter-count-"+this.count),c=this.create(e,this.dimensions(),{title:this._("Twitter Tweet Button")}).then(d.bind(function(a){return this.element=a},this)),b&&c.then(b),c}}),a(j)})}),provide("tfw/factories",function(a){using("util/util","util/promise","util/twitter","tfw/widget/base","tfw/widget/tweetbutton","tfw/widget/follow","tfw/widget/embed","tfw/widget/timeline",function(b,c,d,e,f,g,h,i){function j(a,d,f,g){return a=a||[],f=f||{},function(){var h,i,j,k,l=Array.prototype.slice.apply(arguments,[0,a.length]),m=Array.prototype.slice.apply(arguments,[a.length]);return b.forEach(m,function(a){return a?1===a.nodeType?void(j=a):b.isType("function",a)?void(h=a):void(b.isType("object",a)&&(i=a)):void 0}),l.length!=a.length||0===m.length?(h&&b.async(function(){h(!1)}),c.reject("Not enough parameters")):j?(i=b.aug(i||{},f),i.targetEl=j,b.forEach(a,function(a){i[a]=l.shift()}),k=new d(i),e.doLayout(),k.render(twttr.widgets.config),g&&g(),h&&k.completed().then(h,function(){h(!1)}),k.completed()):(h&&b.async(function(){h(!1)}),c.reject("No target specified"))}}function k(a){var c;a.linkColor=a.linkColor||a.previewParams.link_color,a.theme=a.theme||a.previewParams.theme,a.height=a.height||a.previewParams.height,c=new i(a),this.render=b.bind(c.render,c),this.completed=b.bind(c.completed,c)}var l=j(["url"],f,{type:"share"}),m=j(["hashtag"],f,{type:"hashtag"}),n=j(["screenName"],f,{type:"mention"}),o=j(["screenName"],g),p=j(["tweetId"],h,{},h.fetchAndRender),q=j(["widgetId"],i),r=j(["previewParams"],k),s={createShareButton:l,createMentionButton:n,createHashtagButton:m,createFollowButton:o,createTweet:p,createTweetEmbed:p,createTimeline:q};d.isTwitterURL(window.location.href)&&(s.createTimelinePreview=r),a(s)})}),!function(){window.twttr=window.twttr||{},twttr.host=twttr.host||"platform.twitter.com",using("util/domready","util/env","util/logger",function(a,b,c){function d(a){return!a&&/^http\:$/.test(window.location.protocol)||twttr.ignoreSSL?"http":"https"}if(!b.ie6()){if(twttr.widgets&&twttr.widgets.loaded)return twttr.widgets.load(),!1;if(twttr.init)return!1;twttr.init=!0,twttr._e=twttr._e||[],twttr.ready=twttr.ready||function(a){twttr.widgets&&twttr.widgets.loaded?a(twttr):twttr._e.push(a)},twttr.ignoreSSL=twttr.ignoreSSL||!1;var e=[];twttr.events={bind:function(a,b){return e.push([a,b])}},a(function(){using("tfw/widget/base","tfw/widget/follow","tfw/widget/tweetbutton","tfw/widget/embed","tfw/widget/timeline","tfw/widget/intent","tfw/factories","tfw/util/article","util/events","util/util",function(a,b,f,g,h,i,j,k,l,m){function n(a){var b=twttr.host;return"https"==d(a)&&twttr.secureHost&&(b=twttr.secureHost),d(a)+"://"+b}function o(){using("tfw/hub/client",function(a){twttr.events.hub=a.init(q),a.init(q,!0)})}var p,q={widgets:{"a.twitter-share-button":f,"a.twitter-mention-button":f,"a.twitter-hashtag-button":f,"a.twitter-follow-button":b,"blockquote.twitter-tweet":g,"a.twitter-timeline":h,"div.twitter-timeline":h,body:i}},r=twttr.events&&twttr.events.hub?twttr.events:{};q.assetUrl=n,twttr.widgets=twttr.widgets||{},m.aug(twttr.widgets,j,{config:{assetUrl:n},load:function(b){c.time("load"),a.init(q),a.embed(b),twttr.widgets.loaded=!0}}),m.aug(twttr.events,r,l.Emitter),p=twttr.events.bind,twttr.events.bind=function(a,b){o(),this.bind=p,this.bind(a,b)},m.forEach(e,function(a){twttr.events.bind(a[0],a[1])}),m.forEach(twttr._e,function(a){m.async(function(){a(twttr)})}),twttr.ready=function(a){m.async(function(){a(twttr)})},twttr.widgets.load()})})}})}()}();