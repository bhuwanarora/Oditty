homeApp.service("newsService",["$http","$q","$rootScope","WebsiteUIConstants",function(a,b,c,d){this.get_news_info=function(c,d){return angular.isDefined(d)&&""!=d?_deferred_request("/api/v0/news_info?id="+c+"&tag_id="+d,b,a):_deferred_request("/api/v0/news_info?id="+c,b,a)},this.get_chronological_news=function(c){return _deferred_request("/api/v0/chronological_news?id="+c,b,a)},this.get_community_details=function(c){return _deferred_request("/api/v0/basic_community_info?id="+c,b,a)},this.get_metadata=function(c){return _deferred_request("/api/v0/metadata?url="+c,b,a)},this.get_detailed_community_info=function(c){return _deferred_request("/api/v0/detailed_community_info?id="+c,b,a)},this.follow=function(c,d){return _deferred_request("/api/v0/follow_community?id="+c+"&status="+d,b,a)},this.get_feed_info=function(c){return _deferred_request("/api/v0/feed_community_info?id="+c,b,a)},this.news_visited=function(c){return _deferred_request("/api/v0/news_visited?id="+c,b,a)},this.get_community_news=function(c,d){return _deferred_request("/api/v0/get_community_news?id="+c+"&skip="+d,b,a)}}]);;homeApp.service("roomsService",["$http","$q","$rootScope","WebsiteUIConstants",function(a,b,c,d){this.get_rooms=function(c){return _deferred_request("/api/v0/get_rooms?skip="+c,b,a)}}]);;homeApp.controller("roomsController",["$scope","$rootScope","roomsService","$mdSidenav","newsService","$mdBottomSheet","userService",function(a,b,c,d,e,f,g){a.get_rooms=function(){if(!a.info.loading){a.info.loading=!0,angular.isUndefined(a.rooms)&&(a.rooms=[]);var b=a.rooms.length;c.get_rooms(b).then(function(b){a.rooms=a.rooms.concat(b),a.info.loading=!1})}},a.join_room=function(a){var b=""==getCookie("logged")||null==getCookie("logged");if(b)d("signup").toggle();else{a.status=!a.status;var c=function(){var a=getCookie("todo");a&&(a=JSON.parse(a),a.rooms.join||(deleteCookie("todo"),g.update_todo_key("rooms/join")))};c(),e.follow(a.id,a.status)}},a.show_todo_list=function(b){f.show({templateUrl:"assets/angular/html/todo/rooms.html",scope:a,preserveScope:!0,targetEvent:b})};(function(){a.get_rooms();var b=function(){var a=getCookie("todo");a&&(a=JSON.parse(a),a.home.rooms||(deleteCookie("todo"),g.update_todo_key("home/rooms")))};b()})()}]);