<div layout="column">
    <div ng-if="(active_tag.books && active_tag.books.length > 0) || (active_tag.books.length == 1 && active_tag.books[0].title != null )">
        <div layout="row" layout-wrap ng-if="active_tag.books && active_tag.books.length > 0">
            <section ng-repeat="book in active_tag.books | limitTo: limit_count" layout-margin ng-if="book.title != null">
                <div class="rd_book_container" ng-include src="'/assets/angular/html/shared/partials/book_group.html'"></div>
            </section>    
        </div>
    </div>
    <div layout-padding layout="row" layout-align="center center">
        <a ng-click="show_more_books()" ng-hide="hide_show_more">
            Show me more books..
        </a>
    </div>
    <div layout-padding></div>
    <div>
        <md-autocomplete
            class="search_book_autocomplete" 
            flex layout-padding layout-margin
            md-search-text="search_text"
            md-items="item in popular_books"
            md-search-text-change="search_books(search_text)"
            md-selected-item-change="add_book(item)"
            md-item-text="item.title"
            md-selected-item="selected_item_search"
            placeholder="Search and add books...">
            <md-item-template>
                <div layout="row" layout-align="space-between">
                    <div layout="row" flex="90">
                        <img ng-src="{{item.isbn | small_thumb}}" class="search_thumb"  
                            onerror="this.src='/assets/defpicbook.png'"/>
                        <div layout-align="center start" layout="column">
                            <div ng-bind-html="item.title" ></div>
                            <div class="less_important">
                                <span>&nbsp;by </span>
                                <span ng-bind-html="item.author_name"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </md-item-template>
            <md-not-found>
                No matches found.
            </md-not-found>
        </md-autocomplete>
    </div>
    
</div>