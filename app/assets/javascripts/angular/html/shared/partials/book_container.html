<div class="white md-whiteframe-z1 full_width" layout="column">
	<div layout="row" layout-sm="column">
		<div class="rd_book_container">
			<div ng-style="{background:'{{book.color | random_color}}'}" 
				class="rd_book_backup_cover" 
		        layout="column">
		    <img src="/assets/defpicbook.png"  class="default_book_cover"/>
			</div>
			<div class="rd_slider_wrapper">
			    <div layout="column" layout-align="center" class="relative white"
			        ng-if="book.status">
			        <md-slider flex md-discrete 
			                class="md-warn"
			                ng-change="rate_book(book, $event)"
			                ng-model="book.user_rating" step="1" min="1" max="10" 
			                aria-label="user_rating">
			        </md-slider>
			    </div>
			    <img src="/assets/book_shadow.png" class="rd_book_shadow">
			    <img ng-src="{{book | choose_medium_thumb}}" class="rd_book_image_cover" onerror="this.src=''">
			</div>
		</div>
		<div layout="column" layout-align="space-between">
			<div>
				<div layout-padding class="wrap">
					<div layout="row" layout-align="space-between">
						<div layout="row" layout-align="space-between" flex>
							<div>
				    			<h2><a ng-href="/book?id={{book.book_id || book.id}}" ng-click="render_page($event)" 
				    				data-header="{{book.title}}"
				    				data-url="book" data-id="{{book.book_id || book.id}}" >{{book.title}}</a></h2>
								<div class="less_important">{{book.author_name}}</div>
							</div>
							<div layout="row" class="less_important" ng-include 
								src="'/assets/angular/html/shared/partials/rating_info_button.html'">
						    </div>
						</div>
						<div ng-click="remove_expanded_book($index)" class="clickable_icons">
							<i class="material-icons">close</i>
						</div>
					</div>
				    
				</div>
				<div ng-bind-html="book.description | reduced_summary" layout-padding></div>
			</div>
			<div layout="row" layout-align="space-between" layout-padding>
				<div class="bold" ng-if="book.page_count != null">{{book.page_count}} Pages</div>
				<div class="less_important" ng-bind-html="book.published_year"></div>
			</div>
		</div>
	</div>
	<md-divider></md-divider>
	<div layout="row" layout-align="space-between">
		<div layout="column" layout-align="space-between">
			<div class="less_important bold" layout-padding>
				Tags
			</div>
			<div layout="row">
				<div ng-repeat="category in book.root_category" layout-padding 
					layout-align="center center">
					<div ng-show="category.name && category.name != null" layout="row" >
						<img ng-src="https://s3-ap-southeast-1.amazonaws.com/rd-genres/{{category.aws_key}}"
							class="circular" />
						<md-tooltip layout-padding>
							{{category.name}}
						</md-tooltip>
					</div>
					<div ng-show="!category.name || category.name == null" class="less_important">
						No tags found.
					</div>
				</div>
			</div>
		</div>
		<div layout="row" layout-align="center center" layout-padding>
			<md-button class="md-button-clear md-raised md-warn" ng-click="render_page($event)" data-url="book" 
				data-header="{{book.title}}"
				data-id="{{book.book_id || book.id}}" ng-href="/book?id={{book.id || book.book_id}}">Go to Book</md-button>
		</div>
	</div>
</div>